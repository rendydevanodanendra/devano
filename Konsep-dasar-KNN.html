
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Macam-macam tipe data dan Konsep dasar KNN &#8212; Rendy Devano Danendra</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Konsep-dasar-KNN';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Konsep dasar LOF" href="Konsep-dasar-LOF.html" />
    <link rel="prev" title="Data Understanding dalam Data Mining" href="Data-Understanding.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/data.png" class="logo__image only-light" alt="Rendy Devano Danendra - Home"/>
    <script>document.write(`<img src="_static/data.png" class="logo__image only-dark" alt="Rendy Devano Danendra - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Selamat Datang di dokumentasi Matakuliah Data Mining
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="TugasPertemuan1.html"><strong>Konsep Dasar Data Mining</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="Data-Understanding.html"><strong>Data Understanding dalam Data Mining</strong></a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#"><strong>Macam-macam tipe data dan Konsep dasar KNN</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="Konsep-dasar-LOF.html"><strong>Konsep dasar LOF</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="Naive-Bayes.html"><strong>Naive Bayes</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="UTS-PenambanganData.html">UTS</a></li>



<li class="toctree-l1"><a class="reference internal" href="K-Means.html"><strong>kmean-clustering</strong></a></li>


<li class="toctree-l1"><a class="reference internal" href="Fuzzy-C-Means-Clustering.html"><strong>Fuzzy C-Means Clustering</strong></a></li>


<li class="toctree-l1"><a class="reference internal" href="Decision-Tree.html">Decision Tree Classifier</a></li>

<li class="toctree-l1"><a class="reference internal" href="Perbandingan%20model%20Klasifikasi%20Naive%20Bayes%20dan%20Decision%20Tree.html">Perbandingan model Klasifikasi Naive Bayes dan Decision Tree</a></li>
<li class="toctree-l1"><a class="reference internal" href="PRA-UAS.html">Klasifikasi Kualitas Wine Menggunakan Teknik Data Mining</a></li>












</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/rendydevanodanendra/pendataD" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/rendydevanodanendra/pendataD/issues/new?title=Issue%20on%20page%20%2FKonsep-dasar-KNN.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/Konsep-dasar-KNN.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Macam-macam tipe data dan Konsep dasar KNN</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#macam-macam-tipe-data-dalam-data-mining"><strong>Macam-Macam Tipe Data dalam Data Mining</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#atribut-kualitatif"><strong>1. Atribut Kualitatif</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#atribut-kuantitatif"><strong>2. Atribut Kuantitatif</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pengertian-algoritma-k-nearest-neighbor-knn"><strong>Pengertian Algoritma K-Nearest Neighbor</strong> (KNN)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#apa-itu-nearest-neighbor"><strong>1. Apa itu Nearest Neighbor?</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#alur-kerja-nearest-neighbor"><strong>2. Alur Kerja Nearest Neighbor</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#tentukan-jumlah-tetangga-terdekat-k-yang-akan-dipilih"><strong>2.1 Tentukan jumlah tetangga terdekat (K) yang akan dipilih</strong></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#hitung-jarak-antara-data-uji-dengan-semua-data-latih"><strong>2.2 Hitung jarak antara data uji dengan semua data latih</strong></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#urutkan-data-latih-berdasarkan-jarak-dari-yang-terdekat-ke-yang-terjauh-dengan-data-uji"><strong>2.3 Urutkan data latih berdasarkan jarak dari yang terdekat ke yang terjauh dengan data uji</strong></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pilih-k-data-dengan-jarak-terdekat-dari-data-uji"><strong>2.4 Pilih K data dengan jarak terdekat dari data uji</strong></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#hitung-frekuensi-masing-masing-kategori-pada-k-data-yang-telah-dipilih"><strong>2.5 Hitung frekuensi masing-masing kategori pada K data yang telah dipilih</strong></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#contoh-kasus"><strong>3. Contoh Kasus</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#euclidean-distance"><strong>Euclidean Distance</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#manhattan-distance"><strong>Manhattan Distance</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#minkowski-distance"><strong>Minkowski Distance</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#perhitungan-menggunakan-pyhton"><strong>Perhitungan menggunakan pyhton</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#import-library"><strong>Import Library</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#memuat-file-env"><strong>Memuat File <code class="docutils literal notranslate"><span class="pre">.env</span></code></strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#konfigurasi-koneksi-database"><strong>Konfigurasi Koneksi Database</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menyusun-string-koneksi-postgresql"><strong>Menyusun String Koneksi PostgreSQL</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menyusun-string-koneksi-mysql"><strong>Menyusun String Koneksi MySQL:</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#membuat-engine-database"><strong>Membuat Engine Database</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#blok-try-finally"><strong>Blok Try-Finally</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#definisikan-query-untuk-mysql"><strong>Definisikan Query untuk MySQL</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#definisikan-query-untuk-postgre"><strong>Definisikan Query untuk postgre</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menampilkan-data"><strong>Menampilkan Data</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mengambil-data-dari-mysql"><strong>Mengambil Data dari MySQL</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mengambil-data-dari-postgresql"><strong>Mengambil Data dari PostgreSQL</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menggambungkan-data"><strong>Menggambungkan data</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menampilkan-hasil-gabungan"><strong>Menampilkan Hasil Gabungan</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mendeteksi-outlier-menggunakan-python"><strong>Mendeteksi outlier menggunakan python</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#load-dataset"><strong>Load dataset</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#memilih-kolom-yang-digunakan-untuk-deteksi-outlier"><strong>Memilih kolom yang digunakan untuk deteksi outlier</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ambil-data-sebagai-array-x"><strong>Ambil data sebagai array X</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#deteksi-outlier"><strong>Deteksi Outlier</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#hitung-jarak-ke-tetangga-terdekat"><strong>Hitung jarak ke tetangga terdekat</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#threshold-outlier-dihitung-dengan-formula"><strong>Threshold outlier dihitung dengan formula:</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menandai-outlier-dalam-dataset"><strong>menandai Outlier dalam Dataset</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menampilkan-hasil-dengan-id-jika-ada"><strong>Menampilkan hasil dengan ID jika ada</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#visualisasi-distribusi-fitur-dengan-outlier"><strong>Visualisasi Distribusi Fitur dengan Outlier</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menampilkan-outlier-dengan-menggunakan-library-sklearn-localoutfactor"><strong>menampilkan outlier dengan menggunakan library sklearn LocalOutFactor</strong></a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="macam-macam-tipe-data-dan-konsep-dasar-knn">
<h1><strong>Macam-macam tipe data dan Konsep dasar KNN</strong><a class="headerlink" href="#macam-macam-tipe-data-dan-konsep-dasar-knn" title="Link to this heading">#</a></h1>
<section id="macam-macam-tipe-data-dalam-data-mining">
<h2><strong>Macam-Macam Tipe Data dalam Data Mining</strong><a class="headerlink" href="#macam-macam-tipe-data-dalam-data-mining" title="Link to this heading">#</a></h2>
<section id="atribut-kualitatif">
<h3><strong>1. Atribut Kualitatif</strong><a class="headerlink" href="#atribut-kualitatif" title="Link to this heading">#</a></h3>
<p>Atribut kualitatif merepresentasikan kategori atau karakteristik suatu objek yang tidak berupa angka. Data ini digunakan untuk mengelompokkan objek berdasarkan kesamaan karakteristik dan tidak dapat dihitung secara matematis.</p>
<p><strong>a. Nominal (Kategorikal)</strong><br />
Atribut nominal hanya digunakan untuk memberi label atau kategori pada suatu objek tanpa memiliki urutan atau tingkatan tertentu. Data ini tidak memiliki makna numerik dan tidak dapat dilakukan operasi matematika seperti penjumlahan atau pengurangan.<br />
<strong>Contoh:</strong><br />
Warna rambut: <strong>Hitam, Coklat, Pirang</strong><br />
Jenis kelamin: <strong>Laki-laki, Perempuan</strong><br />
Merek kendaraan: <strong>Toyota, Honda, BMW</strong></p>
<p><strong>b. Ordinal</strong><br />
Atribut ordinal memiliki kategori dengan urutan atau tingkatan tertentu, tetapi jarak antar kategori tidak bisa diukur secara pasti.<br />
<strong>Contoh:</strong><br />
Tingkat pendidikan: <strong>SD, SMP, SMA, S1, S2, S3</strong><br />
Tingkat kepuasan pelanggan: <strong>Sangat Puas, Puas, Netral, Tidak Puas, Sangat Tidak Puas</strong><br />
Risiko investasi: <strong>Rendah, Sedang, Tinggi</strong></p>
<p><strong>c. Biner</strong><br />
Atribut biner hanya memiliki dua kemungkinan nilai, seperti 0 dan 1, atau Ya dan Tidak.<br />
<strong>Contoh:</strong><br />
Status pernikahan: <strong>Menikah (1), Belum Menikah (0)</strong><br />
Kepemilikan rumah: <strong>Ya (1), Tidak (0)</strong><br />
Hasil tes COVID-19: <strong>Positif (1), Negatif (0)</strong><br />
Atribut biner dapat dibedakan menjadi:<br />
<strong>Simetris:</strong> Kedua nilai memiliki kepentingan yang sama, misalnya <strong>jenis kelamin (Laki-laki/Perempuan)</strong>.<br />
<strong>Asimetris:</strong> Salah satu nilai lebih penting dari yang lain, misalnya <strong>dalam deteksi penipuan, 1 berarti transaksi mencurigakan (lebih penting), sementara 0 berarti normal</strong>.</p>
</section>
<section id="atribut-kuantitatif">
<h3><strong>2. Atribut Kuantitatif</strong><a class="headerlink" href="#atribut-kuantitatif" title="Link to this heading">#</a></h3>
<p>Atribut kuantitatif merepresentasikan nilai numerik yang dapat dihitung dan dianalisis secara matematis.<br />
<strong>a. Diskrit</strong><br />
Atribut diskrit hanya bisa memiliki nilai dalam jumlah terbatas, biasanya dalam bentuk bilangan bulat yang diperoleh dari hasil perhitungan (counting).<br />
<strong>Contoh:</strong><br />
Jumlah anak dalam keluarga: <strong>0, 1, 2, 3, â€¦</strong><br />
Jumlah kendaraan di parkiran: <strong>5, 10, 15</strong><br />
Jumlah siswa dalam kelas: <strong>25, 30, 35</strong></p>
<p><strong>b. Kontinu</strong><br />
Atribut kontinu memiliki nilai yang dapat berupa pecahan atau desimal karena diperoleh dari hasil pengukuran (measurement).<br />
<strong>Contoh:</strong><br />
Tinggi badan: <strong>165.3 cm, 170.5 cm</strong><br />
Berat badan: <strong>60.5 kg, 75.8 kg</strong><br />
Suhu udara: <strong>28.7Â°C, 35.2Â°C</strong></p>
</section>
</section>
<section id="pengertian-algoritma-k-nearest-neighbor-knn">
<h2><strong>Pengertian Algoritma K-Nearest Neighbor</strong> (KNN)<a class="headerlink" href="#pengertian-algoritma-k-nearest-neighbor-knn" title="Link to this heading">#</a></h2>
<section id="apa-itu-nearest-neighbor">
<h3><strong>1. Apa itu Nearest Neighbor?</strong><a class="headerlink" href="#apa-itu-nearest-neighbor" title="Link to this heading">#</a></h3>
<p>Nearest Neighbor atau k-Nearest Neighbor (kNN) merupakan salah satu algoritme klasifikasi dalam data mining yang memanfaatkan data terdekat untuk melakukan prediksi pada data baru yang belum dikenal (data uji). Algoritme ini bekerja dengan cara mencari sejumlah tetangga terdekat dari data uji dan menentukan kelas data uji tersebut berdasarkan mayoritas kelas dari tetangga terdekat (data latih) yang ditemukan. Nearest Neighbor dapat digunakan untuk menangani berbagai jenis data, baik data numerik maupun kategorikal. Pada data kategorikal, perhitungan jarak perbedaan atau kesamaan tidak dapat dihitung menggunakan operasi matematik seperti yang dapat dilakukan pada data numerik. Nearest Neighbor lebih efektif pada data dengan dimensi yang rendah atau sedang. Selain itu, algoritme ini juga efektif untuk dataset dengan jumlah data yang kecil hingga sedang, karena semakin besar jumlah data yang digunakan maka waktu yang dibutuhkan untuk melakukan klasifikasi semakin lama. Tak hanya memiliki kelebihan, kNN juga memiliki kekurangan seperti sensitif terhadap nilai pencilan (outlier) dan ketidakseimbangan kelas (class imbalance). Untuk mempermudah pemahaman kita, perhatikan gambar di bawah ini:</p>
<p><img alt="image.png" src="_images/knn.png" /></p>
<p>Penjelasan yang hanya berupa teoritis kadang kala sulit untuk kita pahami dengan baik, untuk menghindari hal tersebut kita akan menggunakan contoh kasus untuk menyederhanakan penjelasan sebelumnya. Gambar di atas mengindikasikan sebuah dataset yang memiliki dua kelas, yaitu kelas positif dan negatif. Kelas positif diwakili oleh gambar lingkaran kecil berwarna kuning sedangkan kelas negatif diwakili gambar segitiga berwarna hijau. Pada contoh kasus ini, kita ingin menentukan kelas dari data uji (yang ditunjukkan gambar bintang berwarna merah) menggunakan kNN.</p>
<p>Terlihat gambar di atas menggunakan dua nilai k, yaitu k=3 dan k=6. kNN bekerja dengan mencari sejumlah tetangga terdekat dari data uji yang belum dikenal dan menentukan kelasnya berdasarkan mayoritas kelas tetangga tersebut. Ketika k=3, artinya kita akan mencari tiga tetangga terdekat dari data uji yang belum dikenal. Dalam contoh tersebut, dua dari tiga tetangga terdekat tergolong ke dalam kelas positif dan satu tetangga terdekat tergolong ke dalam kelas negatif. Karena mayoritas kelas tetangga terdekat adalah kelas positif, maka data uji akan diklasifikasikan sebagai kelas positif.</p>
<p>Namun, ketika k=6, artinya kita akan mencari enam tetangga terdekat dari data uji yang belum dikenal. Dalam contoh tersebut, empat dari enam tetangga terdekat tergolong ke dalam kelas negatif dan dua tetangga terdekat tergolong ke dalam kelas positif. Karena mayoritas kelas tetangga terdekat adalah kelas negatif, maka data uji akan diklasifikasikan sebagai kelas negatif. Dalam contoh tersebut, kita dapat melihat bahwa nilai k yang berbeda-beda dapat memberikan hasil klasifikasi yang berbeda pula. Oleh karena itu, pemilihan nilai k yang tepat sangat penting dalam penggunaan algoritme kNN.</p>
</section>
<section id="alur-kerja-nearest-neighbor">
<h3><strong>2. Alur Kerja Nearest Neighbor</strong><a class="headerlink" href="#alur-kerja-nearest-neighbor" title="Link to this heading">#</a></h3>
<p>Nearest Neighbor (NN) adalah salah satu algoritma machine learning yang paling sederhana namun cukup efektif dalam melakukan klasifikasi. Algoritma NN berdasarkan pada konsep â€œkesamaanâ€ antara data, yang dapat dihitung dengan jarak Euclidean, Manhattan atau Minkowski distance. Pada dasarnya, algoritma ini mencari data latih yang paling mirip dengan data uji yang akan diklasifikasikan, dan memberikan label kelas yang sama dengan data latih tersebut. Secara umum, alur kerja Nearest Neighbor adalah sebagai berikut:</p>
<section id="tentukan-jumlah-tetangga-terdekat-k-yang-akan-dipilih">
<h4><strong>2.1 Tentukan jumlah tetangga terdekat (K) yang akan dipilih</strong><a class="headerlink" href="#tentukan-jumlah-tetangga-terdekat-k-yang-akan-dipilih" title="Link to this heading">#</a></h4>
<p>Pertama-tama, kita harus menentukan nilai K terlebih dahulu untuk algoritme Nearest Neighbor. Penentuan nilai K tidak memiliki rumus pasti, tetapi ada beberapa tips yang dapat dipertimbangkan. Misalnya, jika jumlah kelas adalah genap, disarankan untuk memilih nilai K ganjil, sedangkan jika jumlah kelas adalah ganjil, disarankan memilih nilai K genap. Alasannya adalah jika kita memilih nilai K yang genap pada kasus dengan dua kelas, misalnya kelas A dan B, maka ada kemungkinan hasil dari 4 tetangga terdekat terdiri dari 2 kelas A dan 2 kelas B sehingga hasilnya akan sama, yaitu A atau B. Namun, jika kita memilih nilai K yang ganjil, misalnya 3 atau 5, maka akan ada tetangga terdekat yang lebih banyak jumlahnya, sehingga hasilnya akan lebih variatif.</p>
</section>
<section id="hitung-jarak-antara-data-uji-dengan-semua-data-latih">
<h4><strong>2.2 Hitung jarak antara data uji dengan semua data latih</strong><a class="headerlink" href="#hitung-jarak-antara-data-uji-dengan-semua-data-latih" title="Link to this heading">#</a></h4>
<p>Setelah menentukan nilai K, langkah selanjutnya dalam algoritme Nearest Neighbor adalah menghitung jarak antara data uji dengan semua data latih. Jarak ini dapat dihitung menggunakan berbagai metode, seperti Euclidean distance, Manhattan distance, Minkowski distance, cosine similarity, atau yang lainnya. Dalam perhitungan jarak, setiap fitur pada kedua data akan diperhitungkan dan diakumulasikan menjadi satu skor jarak. Semakin kecil skor jarak, semakin mirip kedua data tersebut. Proses ini akan diulang untuk semua data latih yang tersedia.</p>
</section>
<section id="urutkan-data-latih-berdasarkan-jarak-dari-yang-terdekat-ke-yang-terjauh-dengan-data-uji">
<h4><strong>2.3 Urutkan data latih berdasarkan jarak dari yang terdekat ke yang terjauh dengan data uji</strong><a class="headerlink" href="#urutkan-data-latih-berdasarkan-jarak-dari-yang-terdekat-ke-yang-terjauh-dengan-data-uji" title="Link to this heading">#</a></h4>
<p>Setelah kita menghitung jarak antara data latih dengan data uji menggunakan suatu metrik, langkah selanjutnya adalah mengurutkan data latih berdasarkan jarak dari yang terdekat ke yang terjauh dengan data uji. Dalam hal ini, data latih yang paling dekat dengan data uji akan ditempatkan di bagian atas daftar, sedangkan data latih yang paling jauh akan ditempatkan di bagian bawah daftar. Hal ini dilakukan untuk memudahkan dalam mencari tetangga terdekat dari data uji pada langkah selanjutnya. Dengan mengurutkan data latih berdasarkan jarak, kita dapat memastikan bahwa k-nearest neighbor yang dipilih benar-benar merupakan tetangga terdekat dari data uji.</p>
</section>
<section id="pilih-k-data-dengan-jarak-terdekat-dari-data-uji">
<h4><strong>2.4 Pilih K data dengan jarak terdekat dari data uji</strong><a class="headerlink" href="#pilih-k-data-dengan-jarak-terdekat-dari-data-uji" title="Link to this heading">#</a></h4>
<p>Setelah data latih diurutkan berdasarkan jarak terdekat dengan data uji, selanjutnya pilih K data dengan jarak terkecil. Banyaknya K di sini berdasarkan jumlah K yang telah ditentukan di awal.</p>
</section>
<section id="hitung-frekuensi-masing-masing-kategori-pada-k-data-yang-telah-dipilih">
<h4><strong>2.5 Hitung frekuensi masing-masing kategori pada K data yang telah dipilih</strong><a class="headerlink" href="#hitung-frekuensi-masing-masing-kategori-pada-k-data-yang-telah-dipilih" title="Link to this heading">#</a></h4>
<p>Dalam penghitungan frekuensi ini, setiap kategori akan dihitung berapa kali muncul pada K data tersebut dan kemudian dicatat jumlahnya. Dengan mengetahui frekuensi masing-masing kategori, kita dapat menentukan kategori mana yang paling banyak muncul dan kemudian menjadikannya sebagai hasil prediksi untuk data yang sedang dicari kategori-nya.</p>
</section>
</section>
<section id="contoh-kasus">
<h3><strong>3. Contoh Kasus</strong><a class="headerlink" href="#contoh-kasus" title="Link to this heading">#</a></h3>
<p>Kita akan menggunakan dataset diabetes.xlsx sebagai kasus, dimana dataset ini memuat informasi mengenai diabetes yang dikategorikan menjadi positif dan negatif. Seluruh isi tupel dalam dataset ini memiliki tipe data numerik, hal ini karena kita akan melakukan perhitungan jarak dengan menggunakan kNN. Berikut ini adalah tampilan dari dataset tersebut:</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>nomor</p></th>
<th class="head text-right"><p>gula darah</p></th>
<th class="head text-right"><p>tekanan darah</p></th>
<th class="head text-right"><p>diabetes</p></th>
<th class="head text-right"><p>Distance</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td class="text-right"><p>99</p></td>
<td class="text-right"><p>72</p></td>
<td class="text-right"><p>0</p></td>
<td class="text-right"><p>14,32</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td class="text-right"><p>110</p></td>
<td class="text-right"><p>92</p></td>
<td class="text-right"><p>0</p></td>
<td class="text-right"><p>8,60</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td class="text-right"><p>153</p></td>
<td class="text-right"><p>88</p></td>
<td class="text-right"><p>1</p></td>
<td class="text-right"><p>48,09</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td class="text-right"><p>128</p></td>
<td class="text-right"><p>84</p></td>
<td class="text-right"><p>1</p></td>
<td class="text-right"><p>23,02</p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td class="text-right"><p>88</p></td>
<td class="text-right"><p>68</p></td>
<td class="text-right"><p>0</p></td>
<td class="text-right"><p>24,04</p></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td class="text-right"><p>156</p></td>
<td class="text-right"><p>92</p></td>
<td class="text-right"><p>0</p></td>
<td class="text-right"><p>51,48</p></td>
</tr>
<tr class="row-even"><td><p>7</p></td>
<td class="text-right"><p>120</p></td>
<td class="text-right"><p>85</p></td>
<td class="text-right"><p>1</p></td>
<td class="text-right"><p>16,16</p></td>
</tr>
<tr class="row-odd"><td><p>8</p></td>
<td class="text-right"><p>109</p></td>
<td class="text-right"><p>70</p></td>
<td class="text-right"><p>0</p></td>
<td class="text-right"><p>25,32</p></td>
</tr>
<tr class="row-even"><td><p>9</p></td>
<td class="text-right"><p>140</p></td>
<td class="text-right"><p>82</p></td>
<td class="text-right"><p>1</p></td>
<td class="text-right"><p>15,81</p></td>
</tr>
<tr class="row-odd"><td><p>10</p></td>
<td class="text-right"><p>140</p></td>
<td class="text-right"><p>90</p></td>
<td class="text-right"><p>1</p></td>
<td class="text-right"><p>35,36</p></td>
</tr>
<tr class="row-even"><td><p>11</p></td>
<td class="text-right"><p>105</p></td>
<td class="text-right"><p>85</p></td>
<td class="text-right"><p>?</p></td>
<td class="text-right"><p>?</p></td>
</tr>
</tbody>
</table>
</div>
<p>Dalam dataset ini terdapat label dengan dua kategori, yakni 0 untuk hasil negatif dan 1 untuk hasil positif. Terdapat pula sebuah baris data uji yang akan digunakan untuk menentukan apakah hasilnya positif atau negatif. Tujuan dari perhitungan ini adalah untuk mengklasifikasikan data uji tersebut berdasarkan fitur-fitur yang ada dalam dataset. Dengan menggunakan algoritma nearest neighbor, kita akan mencari data pada dataset yang paling mirip dengan data uji dan kemudian menentukan kategori hasilnya berdasarkan label dari data yang mirip tersebut.</p>
<p>Sebelum itu saya akan menjelaskan beberapa metode<br />
<strong>Dalam konteks KNN ada tiga metode pengukuran jarak yang sering disebutkan:</strong></p>
</section>
<section id="euclidean-distance">
<h3><strong>Euclidean Distance</strong><a class="headerlink" href="#euclidean-distance" title="Link to this heading">#</a></h3>
<p>Menghitung jarak â€œlurusâ€ (garis lurus) antara dua titik. Rumusnya melibatkan akar kuadrat dari jumlah kuadrat perbedaan tiap fitur.</p>
<div class="math notranslate nohighlight">
\[\sqrt{(x_2 - x_1)^2 + (y_2 - y_1)^2}\]</div>
</section>
<section id="manhattan-distance">
<h3><strong>Manhattan Distance</strong><a class="headerlink" href="#manhattan-distance" title="Link to this heading">#</a></h3>
<p>Menghitung jarak berdasarkan pergerakan di grid (seperti menghitung jarak di kota dengan jalan bersebelahan). Di sini, jarak dihitung sebagai jumlah nilai mutlak perbedaan tiap fitur.</p>
<div class="math notranslate nohighlight">
\[|x_2 - x_1| + |y_2 - y_1|\]</div>
</section>
<section id="minkowski-distance">
<h3><strong>Minkowski Distance</strong><a class="headerlink" href="#minkowski-distance" title="Link to this heading">#</a></h3>
<p>Merupakan generalisasi dari Euclidean dan Manhattan Distance. Dengan parameter ğ‘  yang bisa disesuaikan, jika ğ‘ = 2maka sama dengan Euclidean, dan jika ğ‘=1  sama dengan Manhattan.</p>
<div class="math notranslate nohighlight">
\[\left( |x_2 - x_1|^p + |y_2 - y_1|^p \right)^{\frac{1}{p}}\]</div>
<p>Langkah pertama, kita tentukan parameter K. Misalnya kita buat jumlah tetangga terdekat K=3.</p>
<p>Langkah kedua, kita hitung jarak antara data uji dengan seluruh data latih. Pada kasus ini, perhitungan jarak dilakukan menggunakan teknik Euclidean distance dengan rumus berikut:</p>
<div class="math notranslate nohighlight">
\[[(x, y), (a, b)] = \sqrt{(x - a)^2 + (y - b)^2}\]</div>
<p>Kemudian, kita masukkan dataset yang kita miliki ke dalam persamaan matematika di atas, sehingga diperoleh hasil seperti di bawah ini:</p>
<div class="math notranslate nohighlight">
\[D(d1, d11) = \sqrt{(99 - 105)^2 + (72 - 85)^2} = 14.32\]</div>
<div class="math notranslate nohighlight">
\[D(d2, d11) = \sqrt{(110 - 105)^2 + (92 - 85)^2} = 8.60\]</div>
<div class="math notranslate nohighlight">
\[D(d3, d11) = \sqrt{(153 - 105)^2 + (88 - 85)^2} = 48.09\]</div>
<div class="math notranslate nohighlight">
\[D(d4, d11) = \sqrt{(128 - 105)^2 + (84 - 85)^2} = 23.02\]</div>
<div class="math notranslate nohighlight">
\[D(d5, d11) = \sqrt{(88 - 105)^2 + (68 - 85)^2} = 24.04\]</div>
<div class="math notranslate nohighlight">
\[D(d6, d11) = \sqrt{(156 - 105)^2 + (92 - 85)^2} = 51.28\]</div>
<div class="math notranslate nohighlight">
\[D(d7, d11) = \sqrt{(120 - 105)^2 + (85 - 85)^2} = 15.16\]</div>
<div class="math notranslate nohighlight">
\[D(d8, d11) = \sqrt{(109 - 105)^2 + (70 - 85)^2} = 15.23\]</div>
<div class="math notranslate nohighlight">
\[D(d9, d11) = \sqrt{(140 - 105)^2 + (82 - 85)^2} = 35.81\]</div>
<div class="math notranslate nohighlight">
\[D(d10, d11) = \sqrt{(140 - 105)^2 + (90 - 85)^2} = 35.60\]</div>
<p>Untuk memudahkan kita dalam menganalisa jarak yang diperoleh setiap data latih dengan data uji, hasil perhitungan di atas akan kita sajikan dalam bentuk tabular seperti berikut:</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>nomor</p></th>
<th class="head text-right"><p>gula darah</p></th>
<th class="head text-right"><p>tekanan darah</p></th>
<th class="head text-right"><p>diabetes</p></th>
<th class="head text-right"><p>Distance</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>2</p></td>
<td class="text-right"><p>110</p></td>
<td class="text-right"><p>92</p></td>
<td class="text-right"><p>0</p></td>
<td class="text-right"><p>8,60232527</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td class="text-right"><p>99</p></td>
<td class="text-right"><p>72</p></td>
<td class="text-right"><p>0</p></td>
<td class="text-right"><p>14,3178211</p></td>
</tr>
<tr class="row-even"><td><p>9</p></td>
<td class="text-right"><p>120</p></td>
<td class="text-right"><p>80</p></td>
<td class="text-right"><p>1</p></td>
<td class="text-right"><p>15,8113883</p></td>
</tr>
<tr class="row-odd"><td><p>7</p></td>
<td class="text-right"><p>99</p></td>
<td class="text-right"><p>70</p></td>
<td class="text-right"><p>0</p></td>
<td class="text-right"><p>16,1554944</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td class="text-right"><p>128</p></td>
<td class="text-right"><p>84</p></td>
<td class="text-right"><p>1</p></td>
<td class="text-right"><p>23,0217289</p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td class="text-right"><p>88</p></td>
<td class="text-right"><p>68</p></td>
<td class="text-right"><p>0</p></td>
<td class="text-right"><p>24,0416306</p></td>
</tr>
<tr class="row-even"><td><p>8</p></td>
<td class="text-right"><p>109</p></td>
<td class="text-right"><p>60</p></td>
<td class="text-right"><p>0</p></td>
<td class="text-right"><p>25,3179778</p></td>
</tr>
<tr class="row-odd"><td><p>10</p></td>
<td class="text-right"><p>140</p></td>
<td class="text-right"><p>90</p></td>
<td class="text-right"><p>1</p></td>
<td class="text-right"><p>35,3553391</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td class="text-right"><p>153</p></td>
<td class="text-right"><p>88</p></td>
<td class="text-right"><p>1</p></td>
<td class="text-right"><p>48,0936586</p></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td class="text-right"><p>156</p></td>
<td class="text-right"><p>92</p></td>
<td class="text-right"><p>1</p></td>
<td class="text-right"><p>51,4781507</p></td>
</tr>
<tr class="row-even"><td><p><strong>11</strong></p></td>
<td class="text-right"><p><strong>105</strong></p></td>
<td class="text-right"><p><strong>85</strong></p></td>
<td class="text-right"><p><strong>0</strong></p></td>
<td class="text-right"><p></p></td>
</tr>
</tbody>
</table>
</div>
<p>Berikutnya, untuk menentukan nilai label pada data uji, kita dapat mencari jarak terdekat dengan data latih pada kumpulan data yang telah tersedia. Caranya adalah dengan melakukan pengurutan data berdasarkan jarak terkecil ke terbesar pada kolom Distance dengan metode ascending. Dengan demikian, data yang memiliki jarak terdekat dengan data uji akan muncul di urutan pertama dalam daftar data terurut tersebut.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>nomor</p></th>
<th class="head text-right"><p>gula darah</p></th>
<th class="head text-right"><p>tekanan darah</p></th>
<th class="head text-right"><p>diabetes</p></th>
<th class="head text-right"><p>Distance</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>2</p></td>
<td class="text-right"><p>110</p></td>
<td class="text-right"><p>92</p></td>
<td class="text-right"><p>0</p></td>
<td class="text-right"><p>8,60232527</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td class="text-right"><p>99</p></td>
<td class="text-right"><p>72</p></td>
<td class="text-right"><p>0</p></td>
<td class="text-right"><p>14,3178211</p></td>
</tr>
<tr class="row-even"><td><p>9</p></td>
<td class="text-right"><p>120</p></td>
<td class="text-right"><p>80</p></td>
<td class="text-right"><p>1</p></td>
<td class="text-right"><p>15,8113883</p></td>
</tr>
<tr class="row-odd"><td><p>7</p></td>
<td class="text-right"><p>99</p></td>
<td class="text-right"><p>70</p></td>
<td class="text-right"><p>0</p></td>
<td class="text-right"><p>16,1554944</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td class="text-right"><p>128</p></td>
<td class="text-right"><p>84</p></td>
<td class="text-right"><p>1</p></td>
<td class="text-right"><p>23,0217289</p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td class="text-right"><p>88</p></td>
<td class="text-right"><p>68</p></td>
<td class="text-right"><p>0</p></td>
<td class="text-right"><p>24,0416306</p></td>
</tr>
<tr class="row-even"><td><p>8</p></td>
<td class="text-right"><p>109</p></td>
<td class="text-right"><p>60</p></td>
<td class="text-right"><p>0</p></td>
<td class="text-right"><p>25,3179778</p></td>
</tr>
<tr class="row-odd"><td><p>10</p></td>
<td class="text-right"><p>140</p></td>
<td class="text-right"><p>90</p></td>
<td class="text-right"><p>1</p></td>
<td class="text-right"><p>35,3553391</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td class="text-right"><p>153</p></td>
<td class="text-right"><p>88</p></td>
<td class="text-right"><p>1</p></td>
<td class="text-right"><p>48,0936586</p></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td class="text-right"><p>156</p></td>
<td class="text-right"><p>92</p></td>
<td class="text-right"><p>1</p></td>
<td class="text-right"><p>51,4781507</p></td>
</tr>
<tr class="row-even"><td><p><strong>11</strong></p></td>
<td class="text-right"><p><strong>105</strong></p></td>
<td class="text-right"><p><strong>85</strong></p></td>
<td class="text-right"><p><strong>0</strong></p></td>
<td class="text-right"><p></p></td>
</tr>
</tbody>
</table>
</div>
<p>Setelah data diurutkan berdasarkan jarak terkecil hingga tersesar, kemudian kita ambil tiga data dengan jarak terdekat.<strong>Pada tabel di atas terlihat data pertama dan kedua masuk ke dalam kategori 0 serta data ketiga masuk dalam kategori 1. Sehingga dapat ditarik kesimpulan bahwa data uji tersebut masuk ke dalam kategori â€œ0â€ karena dari tiga tetangga terdekat, ada dua data yang masuk kategori 0, sementara hanya ada satu data yang masuk kategori 1</strong>.</p>
</section>
<section id="perhitungan-menggunakan-pyhton">
<h3><strong>Perhitungan menggunakan pyhton</strong><a class="headerlink" href="#perhitungan-menggunakan-pyhton" title="Link to this heading">#</a></h3>
<p>Disini saya memakai Euclidean Distance</p>
<div class="math notranslate nohighlight">
\[
d(x, y) = \sqrt{\sum_{i=1}^{n} (x_i - y_i)^2}
\]</div>
<p>Dengan rumus yang sudah tertera di  diatas selanjutnya saya akan mengambil data postgre dan mysql dari aiven, tapi sebelum itu saya akan menginstal beberapa library yang saya gunakan untuk mengambil data dan menghubungkan</p>
<p>Berikut penjelasan fungsi dari library yang saya install:</p>
<ol class="arabic simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">pymysql</span></code></strong> â€“ Digunakan untuk menghubungkan dan berinteraksi dengan database MySQL menggunakan Python.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">pandas</span></code></strong> â€“ Digunakan untuk manipulasi data dalam bentuk tabel (DataFrame), seperti membaca, menulis, dan mengolah dataset.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">psycopg2</span></code></strong> â€“ Digunakan untuk menghubungkan Python dengan database PostgreSQL.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">sqlalchemy</span></code></strong> â€“ Sebuah library untuk ORM (Object-Relational Mapping), memudahkan interaksi dengan database menggunakan sintaks Python.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">seaborn</span></code></strong> â€“ Library visualisasi berbasis <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code>, digunakan untuk membuat grafik statistik yang menarik.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">numpy</span></code></strong> â€“ Library untuk komputasi numerik, memungkinkan operasi pada array dan matriks.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">scikit-learn</span></code></strong> â€“ Library machine learning yang digunakan untuk analisis data dan pembuatan model ML seperti KNN.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">pyod</span></code></strong> â€“ Digunakan untuk deteksi outlier (anomali) dalam dataset menggunakan berbagai metode.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">matplotlib</span></code></strong> â€“ Library untuk membuat grafik dan visualisasi data secara fleksibel.</p></li>
</ol>
<p>Semua library ini digunakan untuk membaca, menganalisis, mendeteksi outlier, dan memvisualisasikan data</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">pip</span> install pymysql pandas psycopg2 sqlalchemy seaborn numpy pandas scikit-learn pyod matplotlib seaborn python-dotenv
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: pymysql in /opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages (1.1.1)
Requirement already satisfied: pandas in /opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages (2.3.0)
Requirement already satisfied: psycopg2 in /opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages (2.9.10)
Requirement already satisfied: sqlalchemy in /opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages (2.0.41)
Requirement already satisfied: seaborn in /opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages (0.13.2)
Requirement already satisfied: numpy in /opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages (2.2.6)
Requirement already satisfied: scikit-learn in /opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages (1.7.0)
Requirement already satisfied: pyod in /opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages (2.0.5)
Requirement already satisfied: matplotlib in /opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages (3.10.3)
Requirement already satisfied: python-dotenv in /opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages (1.1.0)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: python-dateutil&gt;=2.8.2 in /opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages (from pandas) (2.9.0.post0)
Requirement already satisfied: pytz&gt;=2020.1 in /opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages (from pandas) (2025.2)
Requirement already satisfied: tzdata&gt;=2022.7 in /opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages (from pandas) (2025.2)
Requirement already satisfied: greenlet&gt;=1 in /opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages (from sqlalchemy) (3.2.3)
Requirement already satisfied: typing-extensions&gt;=4.6.0 in /opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages (from sqlalchemy) (4.14.0)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: scipy&gt;=1.8.0 in /opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages (from scikit-learn) (1.15.3)
Requirement already satisfied: joblib&gt;=1.2.0 in /opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages (from scikit-learn) (1.5.1)
Requirement already satisfied: threadpoolctl&gt;=3.1.0 in /opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages (from scikit-learn) (3.6.0)
Requirement already satisfied: numba&gt;=0.51 in /opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages (from pyod) (0.61.2)
Requirement already satisfied: contourpy&gt;=1.0.1 in /opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages (from matplotlib) (1.3.2)
Requirement already satisfied: cycler&gt;=0.10 in /opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages (from matplotlib) (0.12.1)
Requirement already satisfied: fonttools&gt;=4.22.0 in /opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages (from matplotlib) (4.58.4)
Requirement already satisfied: kiwisolver&gt;=1.3.1 in /opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages (from matplotlib) (1.4.8)
Requirement already satisfied: packaging&gt;=20.0 in /opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages (from matplotlib) (25.0)
Requirement already satisfied: pillow&gt;=8 in /opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages (from matplotlib) (11.2.1)
Requirement already satisfied: pyparsing&gt;=2.3.1 in /opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages (from matplotlib) (3.2.3)
Requirement already satisfied: llvmlite&lt;0.45,&gt;=0.44.0dev0 in /opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages (from numba&gt;=0.51-&gt;pyod) (0.44.0)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: six&gt;=1.5 in /opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages (from python-dateutil&gt;=2.8.2-&gt;pandas) (1.17.0)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Note: you may need to restart the kernel to use updated packages.
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">pymysql</span></code><br />
Fungsi: Driver untuk koneksi ke database MySQL menggunakan Python.<br />
Kegunaan: Digunakan oleh SQLAlchemy untuk membuat koneksi ke MySQL.</p>
<p><code class="docutils literal notranslate"><span class="pre">pandas</span></code><br />
Fungsi: Library untuk manipulasi dan analisis data, terutama menggunakan struktur data DataFrame.<br />
Kegunaan: Membaca, mengolah, dan mengekspor data dari berbagai sumber (seperti database, CSV, Excel).</p>
<p><code class="docutils literal notranslate"><span class="pre">psycopg2</span></code><br />
Fungsi: Driver untuk koneksi ke database PostgreSQL.<br />
Kegunaan: Digunakan oleh SQLAlchemy untuk membuat koneksi ke PostgreSQL.</p>
<p><code class="docutils literal notranslate"><span class="pre">sqlalchemy</span></code><br />
Fungsi: Toolkit dan Object Relational Mapper (ORM) untuk Python.<br />
Kegunaan: Memudahkan pembuatan koneksi dan interaksi dengan database menggunakan sintaks Python.</p>
<p><code class="docutils literal notranslate"><span class="pre">seaborn</span></code><br />
Fungsi: Library visualisasi data berbasis matplotlib yang menyediakan antarmuka tingkat tinggi untuk membuat grafik statistik.<br />
Kegunaan: Membantu membuat visualisasi data yang menarik dan informatif dengan sintaks yang lebih sederhana.</p>
<p><code class="docutils literal notranslate"><span class="pre">numpy</span></code><br />
Fungsi: Library untuk komputasi numerik di Python dengan dukungan array multidimensi.<br />
Kegunaan: Dasar bagi banyak operasi numerik dan ilmiah, serta digunakan oleh library lain seperti Pandas dan scikit-learn.</p>
<p><code class="docutils literal notranslate"><span class="pre">scikit-learn</span></code><br />
Fungsi: Library untuk machine learning dan data mining di Python.<br />
Kegunaan: Menyediakan algoritma-algoritma untuk klasifikasi, regresi, clustering, dan pemrosesan data.</p>
<p><code class="docutils literal notranslate"><span class="pre">pyod</span></code>
Fungsi: Library Python untuk deteksi outlier (anomaly detection).<br />
Kegunaan: Berguna untuk mengidentifikasi data abnormal atau outlier dalam dataset, sebuah tugas penting dalam data mining.</p>
<p><code class="docutils literal notranslate"><span class="pre">matplotlib</span></code><br />
Fungsi: Library untuk membuat grafik dan visualisasi data di Python.<br />
Kegunaan: Digunakan sebagai dasar untuk visualisasi dan merupakan fondasi bagi library lain seperti seaborn.</p>
<p><code class="docutils literal notranslate"><span class="pre">python-dotenv</span></code><br />
Fungsi: Library untuk memuat variabel lingkungan dari file <code class="docutils literal notranslate"><span class="pre">.env.</span></code><br />
Kegunaan: Memudahkan pengelolaan kredensial dan konfigurasi tanpa harus hardcode di dalam kode.</p>
<blockquote>
<div><p><strong>Catatan:</strong> Perintah di atas menggunakan <code class="docutils literal notranslate"><span class="pre">%pip</span> <span class="pre">install</span></code> yang umum digunakan pada lingkungan Jupyter Notebook. Jika kamu menjalankannya di terminal, cukup gunakan <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span></code> diikuti daftar paketnya.</p>
</div></blockquote>
<p>Secara keseluruhan, perintah ini menginstal paket-paket yang mendukung koneksi database, manipulasi data, analisis statistik, machine learning, visualisasi data, serta pengelolaan variabel lingkungan. Paket-paket ini merupakan fondasi utama untuk membangun proyek data mining atau analisis data di Python.</p>
</section>
<section id="import-library">
<h3><strong>Import Library</strong><a class="headerlink" href="#import-library" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sqlalchemy</span><span class="w"> </span><span class="kn">import</span> <span class="n">create_engine</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">dotenv</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dotenv</span>
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">os</span></code>: Untuk mengakses variabel lingkungan (environment variables).<br />
<code class="docutils literal notranslate"><span class="pre">pandas</span></code>: Digunakan untuk manipulasi data, meskipun dalam kode ini belum dipakai secara eksplisit.<br />
<code class="docutils literal notranslate"><span class="pre">create_engine</span> <span class="pre">dari</span> <span class="pre">SQLAlchemy</span></code>: Untuk membuat koneksi ke database dalam bentuk â€œengineâ€.<br />
<code class="docutils literal notranslate"><span class="pre">load_dotenv</span></code> dari <code class="docutils literal notranslate"><span class="pre">python-dotenv</span></code>: Untuk memuat file <code class="docutils literal notranslate"><span class="pre">.env</span></code> agar variabel lingkungan (seperti kredensial database) dapat diakses dalam kode.</p>
</section>
<section id="memuat-file-env">
<h3><strong>Memuat File <code class="docutils literal notranslate"><span class="pre">.env</span></code></strong><a class="headerlink" href="#memuat-file-env" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">load_dotenv</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>False
</pre></div>
</div>
</div>
</div>
<p>Fungsi <code class="docutils literal notranslate"><span class="pre">load_dotenv()</span></code> membaca file <code class="docutils literal notranslate"><span class="pre">.env</span></code> (yang harus berada di direktori yang sama dengan skrip) dan menambahkan variabel-variabel yang ada ke dalam environment sehingga bisa diambil dengan <code class="docutils literal notranslate"><span class="pre">os.getenv()</span></code>.</p>
</section>
<section id="konfigurasi-koneksi-database">
<h3><strong>Konfigurasi Koneksi Database</strong><a class="headerlink" href="#konfigurasi-koneksi-database" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">postgres_config</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;host&#39;</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s1">&#39;POSTGRES_HOST&#39;</span><span class="p">),</span>
    <span class="s1">&#39;port&#39;</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s1">&#39;POSTGRES_PORT&#39;</span><span class="p">),</span>
    <span class="s1">&#39;user&#39;</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s1">&#39;POSTGRES_USER&#39;</span><span class="p">),</span>
    <span class="s1">&#39;password&#39;</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s1">&#39;POSTGRES_PASSWORD&#39;</span><span class="p">),</span>
    <span class="s1">&#39;database&#39;</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s1">&#39;POSTGRES_DATABASE&#39;</span><span class="p">)</span>
<span class="p">}</span>
<span class="n">mysql_config</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;host&#39;</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s1">&#39;MYSQL_HOST&#39;</span><span class="p">),</span>
    <span class="s1">&#39;port&#39;</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s1">&#39;MYSQL_PORT&#39;</span><span class="p">),</span>
    <span class="s1">&#39;user&#39;</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s1">&#39;MYSQL_USER&#39;</span><span class="p">),</span>
    <span class="s1">&#39;password&#39;</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s1">&#39;MYSQL_PASSWORD&#39;</span><span class="p">),</span>
    <span class="s1">&#39;database&#39;</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s1">&#39;MYSQL_DATABASE&#39;</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<p>Kode ini membuat dua dictionary, satu untuk PostgreSQL dan satu untuk MySQL.<br />
Masing-masing menggunakan <code class="docutils literal notranslate"><span class="pre">os.getenv()</span></code> untuk mengambil nilai   konfigurasi dari file <code class="docutils literal notranslate"><span class="pre">.env</span> </code>(misalnya, <code class="docutils literal notranslate"><span class="pre">POSTGRES_HOST,</span> <span class="pre">POSTGRES_PORT,</span></code> dll).<br />
<code class="docutils literal notranslate"><span class="pre">postgres_config</span></code>: Menyimpan konfigurasi untuk koneksi PostgreSQL.<br />
<code class="docutils literal notranslate"><span class="pre">mysql_config</span></code>: Menyimpan konfigurasi untuk koneksi MySQL.</p>
</section>
<section id="menyusun-string-koneksi-postgresql">
<h3><strong>Menyusun String Koneksi PostgreSQL</strong><a class="headerlink" href="#menyusun-string-koneksi-postgresql" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">postgres_conn_str</span> <span class="o">=</span> <span class="p">(</span>
    <span class="sa">f</span><span class="s2">&quot;postgresql+psycopg2://</span><span class="si">{</span><span class="n">postgres_config</span><span class="p">[</span><span class="s1">&#39;user&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">postgres_config</span><span class="p">[</span><span class="s1">&#39;password&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="sa">f</span><span class="s2">&quot;@</span><span class="si">{</span><span class="n">postgres_config</span><span class="p">[</span><span class="s1">&#39;host&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">postgres_config</span><span class="p">[</span><span class="s1">&#39;port&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">postgres_config</span><span class="p">[</span><span class="s1">&#39;database&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">?sslmode=require&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Menggunakan format URL untuk SQLAlchemy dengan driver <code class="docutils literal notranslate"><span class="pre">psycopg2</span></code>:
Awalan <code class="docutils literal notranslate"><span class="pre">postgresql+psycopg2://</span></code> menunjukkan bahwa koneksi menggunakan PostgreSQL dengan driver <code class="docutils literal notranslate"><span class="pre">psycopg2</span></code>.
<code class="docutils literal notranslate"><span class="pre">{user}:{password}&#64;{host}:{port}/{database}</span></code>: Menyusun kredensial dan alamat host.
<code class="docutils literal notranslate"><span class="pre">?sslmode=require:</span></code> Parameter tambahan untuk memaksa koneksi menggunakan SSL.</p>
</section>
<section id="menyusun-string-koneksi-mysql">
<h3><strong>Menyusun String Koneksi MySQL:</strong><a class="headerlink" href="#menyusun-string-koneksi-mysql" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mysql_conn_str</span> <span class="o">=</span> <span class="p">(</span>
    <span class="sa">f</span><span class="s2">&quot;mysql+pymysql://</span><span class="si">{</span><span class="n">mysql_config</span><span class="p">[</span><span class="s1">&#39;user&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">mysql_config</span><span class="p">[</span><span class="s1">&#39;password&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="sa">f</span><span class="s2">&quot;@</span><span class="si">{</span><span class="n">mysql_config</span><span class="p">[</span><span class="s1">&#39;host&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">mysql_config</span><span class="p">[</span><span class="s1">&#39;port&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">mysql_config</span><span class="p">[</span><span class="s1">&#39;database&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Mirip dengan PostgreSQL, namun awalan <code class="docutils literal notranslate"><span class="pre">mysql+pymysql://</span></code> menunjukkan bahwa koneksi menggunakan MySQL dengan driver <code class="docutils literal notranslate"><span class="pre">pymysql</span></code>.
String ini menyusun kredensial dan alamat host untuk MySQL.</p>
</section>
<section id="membuat-engine-database">
<h3><strong>Membuat Engine Database</strong><a class="headerlink" href="#membuat-engine-database" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pg_engine</span> <span class="o">=</span> <span class="n">create_engine</span><span class="p">(</span><span class="n">postgres_conn_str</span><span class="p">)</span>
<span class="n">mysql_engine</span> <span class="o">=</span> <span class="n">create_engine</span><span class="p">(</span><span class="n">mysql_conn_str</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ValueError</span><span class="g g-Whitespace">                                </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">7</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">pg_engine</span> <span class="o">=</span> <span class="n">create_engine</span><span class="p">(</span><span class="n">postgres_conn_str</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="n">mysql_engine</span> <span class="o">=</span> <span class="n">create_engine</span><span class="p">(</span><span class="n">mysql_conn_str</span><span class="p">)</span>

<span class="nn">File &lt;string&gt;:2,</span> in <span class="ni">create_engine</span><span class="nt">(url, **kwargs)</span>

<span class="nn">File /opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages/sqlalchemy/util/deprecations.py:281,</span> in <span class="ni">deprecated_params.&lt;locals&gt;.decorate.&lt;locals&gt;.warned</span><span class="nt">(fn, *args, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">274</span>     <span class="k">if</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">275</span>         <span class="n">_warn_with_version</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">276</span>             <span class="n">messages</span><span class="p">[</span><span class="n">m</span><span class="p">],</span>
<span class="g g-Whitespace">    </span><span class="mi">277</span>             <span class="n">versions</span><span class="p">[</span><span class="n">m</span><span class="p">],</span>
<span class="g g-Whitespace">    </span><span class="mi">278</span>             <span class="n">version_warnings</span><span class="p">[</span><span class="n">m</span><span class="p">],</span>
<span class="g g-Whitespace">    </span><span class="mi">279</span>             <span class="n">stacklevel</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">280</span>         <span class="p">)</span>
<span class="ne">--&gt; </span><span class="mi">281</span> <span class="k">return</span> <span class="n">fn</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<span class="nn">File /opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages/sqlalchemy/engine/create.py:549,</span> in <span class="ni">create_engine</span><span class="nt">(url, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">546</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;empty_in_strategy&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">548</span> <span class="c1"># create url.URL object</span>
<span class="ne">--&gt; </span><span class="mi">549</span> <span class="n">u</span> <span class="o">=</span> <span class="n">_url</span><span class="o">.</span><span class="n">make_url</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">551</span> <span class="n">u</span><span class="p">,</span> <span class="n">plugins</span><span class="p">,</span> <span class="n">kwargs</span> <span class="o">=</span> <span class="n">u</span><span class="o">.</span><span class="n">_instantiate_plugins</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">553</span> <span class="n">entrypoint</span> <span class="o">=</span> <span class="n">u</span><span class="o">.</span><span class="n">_get_entrypoint</span><span class="p">()</span>

<span class="nn">File /opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages/sqlalchemy/engine/url.py:856,</span> in <span class="ni">make_url</span><span class="nt">(name_or_url)</span>
<span class="g g-Whitespace">    </span><span class="mi">840</span><span class="w"> </span><span class="sd">&quot;&quot;&quot;Given a string, produce a new URL instance.</span>
<span class="g g-Whitespace">    </span><span class="mi">841</span><span class="sd"> </span>
<span class="g g-Whitespace">    </span><span class="mi">842</span><span class="sd"> The format of the URL generally follows `RFC-1738</span>
<span class="sd">   (...)</span>
<span class="g g-Whitespace">    </span><span class="mi">852</span><span class="sd"> </span>
<span class="g g-Whitespace">    </span><span class="mi">853</span><span class="sd"> &quot;&quot;&quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">855</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">name_or_url</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
<span class="ne">--&gt; </span><span class="mi">856</span>     <span class="k">return</span> <span class="n">_parse_url</span><span class="p">(</span><span class="n">name_or_url</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">857</span> <span class="k">elif</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">name_or_url</span><span class="p">,</span> <span class="n">URL</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">858</span>     <span class="n">name_or_url</span><span class="p">,</span> <span class="s2">&quot;_sqla_is_testing_if_this_is_a_mock_object&quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">859</span> <span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">860</span>     <span class="k">raise</span> <span class="n">exc</span><span class="o">.</span><span class="n">ArgumentError</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">861</span>         <span class="sa">f</span><span class="s2">&quot;Expected string or URL object, got </span><span class="si">{</span><span class="n">name_or_url</span><span class="si">!r}</span><span class="s2">&quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">862</span>     <span class="p">)</span>

<span class="nn">File /opt/hostedtoolcache/Python/3.10.18/x64/lib/python3.10/site-packages/sqlalchemy/engine/url.py:917,</span> in <span class="ni">_parse_url</span><span class="nt">(name)</span>
<span class="g g-Whitespace">    </span><span class="mi">914</span>     <span class="n">name</span> <span class="o">=</span> <span class="n">components</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">916</span>     <span class="k">if</span> <span class="n">components</span><span class="p">[</span><span class="s2">&quot;port&quot;</span><span class="p">]:</span>
<span class="ne">--&gt; </span><span class="mi">917</span>         <span class="n">components</span><span class="p">[</span><span class="s2">&quot;port&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">components</span><span class="p">[</span><span class="s2">&quot;port&quot;</span><span class="p">])</span>
<span class="g g-Whitespace">    </span><span class="mi">919</span>     <span class="k">return</span> <span class="n">URL</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="o">**</span><span class="n">components</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
<span class="g g-Whitespace">    </span><span class="mi">921</span> <span class="k">else</span><span class="p">:</span>

<span class="ne">ValueError</span>: invalid literal for int() with base 10: &#39;None&#39;
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">create_engine()</span></code> dari <code class="docutils literal notranslate"><span class="pre">SQLAlchemy</span></code> membuat objek koneksi (engine) berdasarkan string koneksi yang telah disusun.<br />
<code class="docutils literal notranslate"><span class="pre">pg_engine</span></code>: Engine untuk koneksi PostgreSQL.<br />
<code class="docutils literal notranslate"><span class="pre">mysql_engine</span></code>: Engine untuk koneksi MySQL.</p>
</section>
<section id="blok-try-finally">
<h3><strong>Blok Try-Finally</strong><a class="headerlink" href="#blok-try-finally" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;sudah terkoneksi&quot;</span><span class="p">)</span>    
<span class="k">finally</span><span class="p">:</span>
    <span class="n">pg_engine</span><span class="o">.</span><span class="n">dispose</span><span class="p">()</span>
    <span class="n">mysql_engine</span><span class="o">.</span><span class="n">dispose</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>sudah terkoneksi
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">try</span></code> Block:<br />
Mencetak pesan <code class="docutils literal notranslate"><span class="pre">&quot;sudah</span> <span class="pre">terkoneksi&quot;</span></code>. Jika tidak terjadi error selama pembuatan engine, maka pesan ini akan tampil, menandakan bahwa koneksi ke kedua database berhasil.<br />
<code class="docutils literal notranslate"><span class="pre">finally</span></code> Block:<br />
Menutup koneksi dengan memanggil <code class="docutils literal notranslate"><span class="pre">dispose()</span></code> pada masing-masing engine. Fungsi <code class="docutils literal notranslate"><span class="pre">dispose()</span></code> memastikan bahwa semua koneksi yang telah dibuat ditutup dengan baik sehingga tidak terjadi kebocoran resource.</p>
</section>
<section id="definisikan-query-untuk-mysql">
<h3><strong>Definisikan Query untuk MySQL</strong><a class="headerlink" href="#definisikan-query-untuk-mysql" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mysql_query</span> <span class="o">=</span> <span class="s2">&quot;SELECT * FROM iris_data ORDER BY id;&quot;</span>
<span class="n">df_mysql</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_sql</span><span class="p">(</span><span class="n">mysql_query</span><span class="p">,</span> <span class="n">mysql_engine</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">gaierror</span><span class="g g-Whitespace">                                  </span>Traceback (most recent call last)
<span class="nn">File c:\laragon\bin\python\python-3.10\lib\site-packages\pymysql\connections.py:649,</span> in <span class="ni">Connection.connect</span><span class="nt">(self, sock)</span>
<span class="g g-Whitespace">    </span><span class="mi">648</span> <span class="k">try</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">649</span>     <span class="n">sock</span> <span class="o">=</span> <span class="n">socket</span><span class="o">.</span><span class="n">create_connection</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">650</span>         <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">host</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">port</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">connect_timeout</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
<span class="g g-Whitespace">    </span><span class="mi">651</span>     <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">652</span>     <span class="k">break</span>

<span class="nn">File c:\laragon\bin\python\python-3.10\lib\socket.py:824,</span> in <span class="ni">create_connection</span><span class="nt">(address, timeout, source_address)</span>
<span class="g g-Whitespace">    </span><span class="mi">823</span> <span class="n">err</span> <span class="o">=</span> <span class="kc">None</span>
<span class="ne">--&gt; </span><span class="mi">824</span> <span class="k">for</span> <span class="n">res</span> <span class="ow">in</span> <span class="n">getaddrinfo</span><span class="p">(</span><span class="n">host</span><span class="p">,</span> <span class="n">port</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">SOCK_STREAM</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">825</span>     <span class="n">af</span><span class="p">,</span> <span class="n">socktype</span><span class="p">,</span> <span class="n">proto</span><span class="p">,</span> <span class="n">canonname</span><span class="p">,</span> <span class="n">sa</span> <span class="o">=</span> <span class="n">res</span>

<span class="nn">File c:\laragon\bin\python\python-3.10\lib\socket.py:955,</span> in <span class="ni">getaddrinfo</span><span class="nt">(host, port, family, type, proto, flags)</span>
<span class="g g-Whitespace">    </span><span class="mi">954</span> <span class="n">addrlist</span> <span class="o">=</span> <span class="p">[]</span>
<span class="ne">--&gt; </span><span class="mi">955</span> <span class="k">for</span> <span class="n">res</span> <span class="ow">in</span> <span class="n">_socket</span><span class="o">.</span><span class="n">getaddrinfo</span><span class="p">(</span><span class="n">host</span><span class="p">,</span> <span class="n">port</span><span class="p">,</span> <span class="n">family</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="n">proto</span><span class="p">,</span> <span class="n">flags</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">956</span>     <span class="n">af</span><span class="p">,</span> <span class="n">socktype</span><span class="p">,</span> <span class="n">proto</span><span class="p">,</span> <span class="n">canonname</span><span class="p">,</span> <span class="n">sa</span> <span class="o">=</span> <span class="n">res</span>

<span class="ne">gaierror</span>: [Errno 11001] getaddrinfo failed

<span class="n">During</span> <span class="n">handling</span> <span class="n">of</span> <span class="n">the</span> <span class="n">above</span> <span class="n">exception</span><span class="p">,</span> <span class="n">another</span> <span class="n">exception</span> <span class="n">occurred</span><span class="p">:</span>

<span class="ne">OperationalError</span><span class="g g-Whitespace">                          </span>Traceback (most recent call last)
<span class="nn">File c:\laragon\bin\python\python-3.10\lib\site-packages\sqlalchemy\engine\base.py:146,</span> in <span class="ni">Connection.__init__</span><span class="nt">(self, engine, connection, _has_events, _allow_revalidate, _allow_autobegin)</span>
<span class="g g-Whitespace">    </span><span class="mi">145</span> <span class="k">try</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">146</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_dbapi_connection</span> <span class="o">=</span> <span class="n">engine</span><span class="o">.</span><span class="n">raw_connection</span><span class="p">()</span>
<span class="g g-Whitespace">    </span><span class="mi">147</span> <span class="k">except</span> <span class="n">dialect</span><span class="o">.</span><span class="n">loaded_dbapi</span><span class="o">.</span><span class="n">Error</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>

<span class="nn">File c:\laragon\bin\python\python-3.10\lib\site-packages\sqlalchemy\engine\base.py:3298,</span> in <span class="ni">Engine.raw_connection</span><span class="nt">(self)</span>
<span class="g g-Whitespace">   </span><span class="mi">3277</span><span class="w"> </span><span class="sd">&quot;&quot;&quot;Return a &quot;raw&quot; DBAPI connection from the connection pool.</span>
<span class="g g-Whitespace">   </span><span class="mi">3278</span><span class="sd"> </span>
<span class="g g-Whitespace">   </span><span class="mi">3279</span><span class="sd"> The returned object is a proxied version of the DBAPI</span>
<span class="sd">   (...)</span>
<span class="g g-Whitespace">   </span><span class="mi">3296</span><span class="sd"> </span>
<span class="g g-Whitespace">   </span><span class="mi">3297</span><span class="sd"> &quot;&quot;&quot;</span>
<span class="ne">-&gt; </span><span class="mi">3298</span> <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">pool</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>

<span class="nn">File c:\laragon\bin\python\python-3.10\lib\site-packages\sqlalchemy\pool\base.py:449,</span> in <span class="ni">Pool.connect</span><span class="nt">(self)</span>
<span class="g g-Whitespace">    </span><span class="mi">442</span><span class="w"> </span><span class="sd">&quot;&quot;&quot;Return a DBAPI connection from the pool.</span>
<span class="g g-Whitespace">    </span><span class="mi">443</span><span class="sd"> </span>
<span class="g g-Whitespace">    </span><span class="mi">444</span><span class="sd"> The connection is instrumented such that when its</span>
<span class="sd">   (...)</span>
<span class="g g-Whitespace">    </span><span class="mi">447</span><span class="sd"> </span>
<span class="g g-Whitespace">    </span><span class="mi">448</span><span class="sd"> &quot;&quot;&quot;</span>
<span class="ne">--&gt; </span><span class="mi">449</span> <span class="k">return</span> <span class="n">_ConnectionFairy</span><span class="o">.</span><span class="n">_checkout</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

<span class="nn">File c:\laragon\bin\python\python-3.10\lib\site-packages\sqlalchemy\pool\base.py:1263,</span> in <span class="ni">_ConnectionFairy._checkout</span><span class="nt">(cls, pool, threadconns, fairy)</span>
<span class="g g-Whitespace">   </span><span class="mi">1262</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">fairy</span><span class="p">:</span>
<span class="ne">-&gt; </span><span class="mi">1263</span>     <span class="n">fairy</span> <span class="o">=</span> <span class="n">_ConnectionRecord</span><span class="o">.</span><span class="n">checkout</span><span class="p">(</span><span class="n">pool</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1265</span>     <span class="k">if</span> <span class="n">threadconns</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>

<span class="nn">File c:\laragon\bin\python\python-3.10\lib\site-packages\sqlalchemy\pool\base.py:712,</span> in <span class="ni">_ConnectionRecord.checkout</span><span class="nt">(cls, pool)</span>
<span class="g g-Whitespace">    </span><span class="mi">711</span> <span class="k">else</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">712</span>     <span class="n">rec</span> <span class="o">=</span> <span class="n">pool</span><span class="o">.</span><span class="n">_do_get</span><span class="p">()</span>
<span class="g g-Whitespace">    </span><span class="mi">714</span> <span class="k">try</span><span class="p">:</span>

<span class="nn">File c:\laragon\bin\python\python-3.10\lib\site-packages\sqlalchemy\pool\impl.py:179,</span> in <span class="ni">QueuePool._do_get</span><span class="nt">(self)</span>
<span class="g g-Whitespace">    </span><span class="mi">178</span> <span class="k">except</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">179</span>     <span class="k">with</span> <span class="n">util</span><span class="o">.</span><span class="n">safe_reraise</span><span class="p">():</span>
<span class="g g-Whitespace">    </span><span class="mi">180</span>         <span class="bp">self</span><span class="o">.</span><span class="n">_dec_overflow</span><span class="p">()</span>

<span class="nn">File c:\laragon\bin\python\python-3.10\lib\site-packages\sqlalchemy\util\langhelpers.py:146,</span> in <span class="ni">safe_reraise.__exit__</span><span class="nt">(self, type_, value, traceback)</span>
<span class="g g-Whitespace">    </span><span class="mi">145</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_exc_info</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># remove potential circular references</span>
<span class="ne">--&gt; </span><span class="mi">146</span>     <span class="k">raise</span> <span class="n">exc_value</span><span class="o">.</span><span class="n">with_traceback</span><span class="p">(</span><span class="n">exc_tb</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">147</span> <span class="k">else</span><span class="p">:</span>

<span class="nn">File c:\laragon\bin\python\python-3.10\lib\site-packages\sqlalchemy\pool\impl.py:177,</span> in <span class="ni">QueuePool._do_get</span><span class="nt">(self)</span>
<span class="g g-Whitespace">    </span><span class="mi">176</span> <span class="k">try</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">177</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_connection</span><span class="p">()</span>
<span class="g g-Whitespace">    </span><span class="mi">178</span> <span class="k">except</span><span class="p">:</span>

<span class="nn">File c:\laragon\bin\python\python-3.10\lib\site-packages\sqlalchemy\pool\base.py:390,</span> in <span class="ni">Pool._create_connection</span><span class="nt">(self)</span>
<span class="g g-Whitespace">    </span><span class="mi">388</span><span class="w"> </span><span class="sd">&quot;&quot;&quot;Called by subclasses to create a new ConnectionRecord.&quot;&quot;&quot;</span>
<span class="ne">--&gt; </span><span class="mi">390</span> <span class="k">return</span> <span class="n">_ConnectionRecord</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

<span class="nn">File c:\laragon\bin\python\python-3.10\lib\site-packages\sqlalchemy\pool\base.py:674,</span> in <span class="ni">_ConnectionRecord.__init__</span><span class="nt">(self, pool, connect)</span>
<span class="g g-Whitespace">    </span><span class="mi">673</span> <span class="k">if</span> <span class="n">connect</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">674</span>     <span class="bp">self</span><span class="o">.</span><span class="n">__connect</span><span class="p">()</span>
<span class="g g-Whitespace">    </span><span class="mi">675</span> <span class="bp">self</span><span class="o">.</span><span class="n">finalize_callback</span> <span class="o">=</span> <span class="n">deque</span><span class="p">()</span>

<span class="nn">File c:\laragon\bin\python\python-3.10\lib\site-packages\sqlalchemy\pool\base.py:900,</span> in <span class="ni">_ConnectionRecord.__connect</span><span class="nt">(self)</span>
<span class="g g-Whitespace">    </span><span class="mi">899</span> <span class="k">except</span> <span class="ne">BaseException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">900</span>     <span class="k">with</span> <span class="n">util</span><span class="o">.</span><span class="n">safe_reraise</span><span class="p">():</span>
<span class="g g-Whitespace">    </span><span class="mi">901</span>         <span class="n">pool</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Error on connect(): </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>

<span class="nn">File c:\laragon\bin\python\python-3.10\lib\site-packages\sqlalchemy\util\langhelpers.py:146,</span> in <span class="ni">safe_reraise.__exit__</span><span class="nt">(self, type_, value, traceback)</span>
<span class="g g-Whitespace">    </span><span class="mi">145</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_exc_info</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># remove potential circular references</span>
<span class="ne">--&gt; </span><span class="mi">146</span>     <span class="k">raise</span> <span class="n">exc_value</span><span class="o">.</span><span class="n">with_traceback</span><span class="p">(</span><span class="n">exc_tb</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">147</span> <span class="k">else</span><span class="p">:</span>

<span class="nn">File c:\laragon\bin\python\python-3.10\lib\site-packages\sqlalchemy\pool\base.py:896,</span> in <span class="ni">_ConnectionRecord.__connect</span><span class="nt">(self)</span>
<span class="g g-Whitespace">    </span><span class="mi">895</span> <span class="bp">self</span><span class="o">.</span><span class="n">starttime</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="ne">--&gt; </span><span class="mi">896</span> <span class="bp">self</span><span class="o">.</span><span class="n">dbapi_connection</span> <span class="o">=</span> <span class="n">connection</span> <span class="o">=</span> <span class="n">pool</span><span class="o">.</span><span class="n">_invoke_creator</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">897</span> <span class="n">pool</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Created new connection </span><span class="si">%r</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">connection</span><span class="p">)</span>

<span class="nn">File c:\laragon\bin\python\python-3.10\lib\site-packages\sqlalchemy\engine\create.py:646,</span> in <span class="ni">create_engine.&lt;locals&gt;.connect</span><span class="nt">(connection_record)</span>
<span class="g g-Whitespace">    </span><span class="mi">644</span>             <span class="k">return</span> <span class="n">connection</span>
<span class="ne">--&gt; </span><span class="mi">646</span> <span class="k">return</span> <span class="n">dialect</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="o">*</span><span class="n">cargs</span><span class="p">,</span> <span class="o">**</span><span class="n">cparams</span><span class="p">)</span>

<span class="nn">File c:\laragon\bin\python\python-3.10\lib\site-packages\sqlalchemy\engine\default.py:622,</span> in <span class="ni">DefaultDialect.connect</span><span class="nt">(self, *cargs, **cparams)</span>
<span class="g g-Whitespace">    </span><span class="mi">620</span> <span class="k">def</span><span class="w"> </span><span class="nf">connect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">cargs</span><span class="p">,</span> <span class="o">**</span><span class="n">cparams</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">621</span>     <span class="c1"># inherits the docstring from interfaces.Dialect.connect</span>
<span class="ne">--&gt; </span><span class="mi">622</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">loaded_dbapi</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="o">*</span><span class="n">cargs</span><span class="p">,</span> <span class="o">**</span><span class="n">cparams</span><span class="p">)</span>

<span class="nn">File c:\laragon\bin\python\python-3.10\lib\site-packages\pymysql\connections.py:361,</span> in <span class="ni">Connection.__init__</span><span class="nt">(self, user, password, host, database, unix_socket, port, charset, collation, sql_mode, read_default_file, conv, use_unicode, client_flag, cursorclass, init_command, connect_timeout, read_default_group, autocommit, local_infile, max_allowed_packet, defer_connect, auth_plugin_map, read_timeout, write_timeout, bind_address, binary_prefix, program_name, server_public_key, ssl, ssl_ca, ssl_cert, ssl_disabled, ssl_key, ssl_key_password, ssl_verify_cert, ssl_verify_identity, compress, named_pipe, passwd, db)</span>
<span class="g g-Whitespace">    </span><span class="mi">360</span> <span class="k">else</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">361</span>     <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>

<span class="nn">File c:\laragon\bin\python\python-3.10\lib\site-packages\pymysql\connections.py:716,</span> in <span class="ni">Connection.connect</span><span class="nt">(self, sock)</span>
<span class="g g-Whitespace">    </span><span class="mi">715</span>         <span class="nb">print</span><span class="p">(</span><span class="n">exc</span><span class="o">.</span><span class="n">traceback</span><span class="p">)</span>
<span class="ne">--&gt; </span><span class="mi">716</span>     <span class="k">raise</span> <span class="n">exc</span>
<span class="g g-Whitespace">    </span><span class="mi">718</span> <span class="c1"># If e is neither DatabaseError or IOError, It&#39;s a bug.</span>
<span class="g g-Whitespace">    </span><span class="mi">719</span> <span class="c1"># But raising AssertionError hides original error.</span>
<span class="g g-Whitespace">    </span><span class="mi">720</span> <span class="c1"># So just reraise it.</span>

<span class="ne">OperationalError</span>: (2003, &quot;Can&#39;t connect to MySQL server on &#39;rendydevanodanendra-mysql-devano.i.aivencloud.com&#39; ([Errno 11001] getaddrinfo failed)&quot;)

<span class="n">The</span> <span class="n">above</span> <span class="n">exception</span> <span class="n">was</span> <span class="n">the</span> <span class="n">direct</span> <span class="n">cause</span> <span class="n">of</span> <span class="n">the</span> <span class="n">following</span> <span class="n">exception</span><span class="p">:</span>

<span class="ne">OperationalError</span><span class="g g-Whitespace">                          </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">9</span><span class="p">],</span> <span class="n">line</span> <span class="mi">2</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="n">mysql_query</span> <span class="o">=</span> <span class="s2">&quot;SELECT * FROM iris_data ORDER BY id;&quot;</span>
<span class="ne">----&gt; </span><span class="mi">2</span> <span class="n">df_mysql</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_sql</span><span class="p">(</span><span class="n">mysql_query</span><span class="p">,</span> <span class="n">mysql_engine</span><span class="p">)</span>

<span class="nn">File c:\laragon\bin\python\python-3.10\lib\site-packages\pandas\io\sql.py:704,</span> in <span class="ni">read_sql</span><span class="nt">(sql, con, index_col, coerce_float, params, parse_dates, columns, chunksize, dtype_backend, dtype)</span>
<span class="g g-Whitespace">    </span><span class="mi">701</span>     <span class="n">dtype_backend</span> <span class="o">=</span> <span class="s2">&quot;numpy&quot;</span>  <span class="c1"># type: ignore[assignment]</span>
<span class="g g-Whitespace">    </span><span class="mi">702</span> <span class="k">assert</span> <span class="n">dtype_backend</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">lib</span><span class="o">.</span><span class="n">no_default</span>
<span class="ne">--&gt; </span><span class="mi">704</span> <span class="k">with</span> <span class="n">pandasSQL_builder</span><span class="p">(</span><span class="n">con</span><span class="p">)</span> <span class="k">as</span> <span class="n">pandas_sql</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">705</span>     <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pandas_sql</span><span class="p">,</span> <span class="n">SQLiteDatabase</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">706</span>         <span class="k">return</span> <span class="n">pandas_sql</span><span class="o">.</span><span class="n">read_query</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">707</span>             <span class="n">sql</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">708</span>             <span class="n">index_col</span><span class="o">=</span><span class="n">index_col</span><span class="p">,</span>
   <span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">714</span>             <span class="n">dtype</span><span class="o">=</span><span class="n">dtype</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">715</span>         <span class="p">)</span>

<span class="nn">File c:\laragon\bin\python\python-3.10\lib\site-packages\pandas\io\sql.py:906,</span> in <span class="ni">pandasSQL_builder</span><span class="nt">(con, schema, need_transaction)</span>
<span class="g g-Whitespace">    </span><span class="mi">903</span>     <span class="k">raise</span> <span class="ne">ImportError</span><span class="p">(</span><span class="s2">&quot;Using URI string without sqlalchemy installed.&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">905</span> <span class="k">if</span> <span class="n">sqlalchemy</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">con</span><span class="p">,</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">sqlalchemy</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">Connectable</span><span class="p">)):</span>
<span class="ne">--&gt; </span><span class="mi">906</span>     <span class="k">return</span> <span class="n">SQLDatabase</span><span class="p">(</span><span class="n">con</span><span class="p">,</span> <span class="n">schema</span><span class="p">,</span> <span class="n">need_transaction</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">908</span> <span class="n">adbc</span> <span class="o">=</span> <span class="n">import_optional_dependency</span><span class="p">(</span><span class="s2">&quot;adbc_driver_manager.dbapi&quot;</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="s2">&quot;ignore&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">909</span> <span class="k">if</span> <span class="n">adbc</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">con</span><span class="p">,</span> <span class="n">adbc</span><span class="o">.</span><span class="n">Connection</span><span class="p">):</span>

<span class="nn">File c:\laragon\bin\python\python-3.10\lib\site-packages\pandas\io\sql.py:1636,</span> in <span class="ni">SQLDatabase.__init__</span><span class="nt">(self, con, schema, need_transaction)</span>
<span class="g g-Whitespace">   </span><span class="mi">1634</span>     <span class="bp">self</span><span class="o">.</span><span class="n">exit_stack</span><span class="o">.</span><span class="n">callback</span><span class="p">(</span><span class="n">con</span><span class="o">.</span><span class="n">dispose</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1635</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">con</span><span class="p">,</span> <span class="n">Engine</span><span class="p">):</span>
<span class="ne">-&gt; </span><span class="mi">1636</span>     <span class="n">con</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_stack</span><span class="o">.</span><span class="n">enter_context</span><span class="p">(</span><span class="n">con</span><span class="o">.</span><span class="n">connect</span><span class="p">())</span>
<span class="g g-Whitespace">   </span><span class="mi">1637</span> <span class="k">if</span> <span class="n">need_transaction</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">con</span><span class="o">.</span><span class="n">in_transaction</span><span class="p">():</span>
<span class="g g-Whitespace">   </span><span class="mi">1638</span>     <span class="bp">self</span><span class="o">.</span><span class="n">exit_stack</span><span class="o">.</span><span class="n">enter_context</span><span class="p">(</span><span class="n">con</span><span class="o">.</span><span class="n">begin</span><span class="p">())</span>

<span class="nn">File c:\laragon\bin\python\python-3.10\lib\site-packages\sqlalchemy\engine\base.py:3274,</span> in <span class="ni">Engine.connect</span><span class="nt">(self)</span>
<span class="g g-Whitespace">   </span><span class="mi">3251</span> <span class="k">def</span><span class="w"> </span><span class="nf">connect</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Connection</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">3252</span><span class="w">     </span><span class="sd">&quot;&quot;&quot;Return a new :class:`_engine.Connection` object.</span>
<span class="g g-Whitespace">   </span><span class="mi">3253</span><span class="sd"> </span>
<span class="g g-Whitespace">   </span><span class="mi">3254</span><span class="sd">     The :class:`_engine.Connection` acts as a Python context manager, so</span>
<span class="sd">   (...)</span>
<span class="g g-Whitespace">   </span><span class="mi">3271</span><span class="sd"> </span>
<span class="g g-Whitespace">   </span><span class="mi">3272</span><span class="sd">     &quot;&quot;&quot;</span>
<span class="ne">-&gt; </span><span class="mi">3274</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_connection_cls</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

<span class="nn">File c:\laragon\bin\python\python-3.10\lib\site-packages\sqlalchemy\engine\base.py:148,</span> in <span class="ni">Connection.__init__</span><span class="nt">(self, engine, connection, _has_events, _allow_revalidate, _allow_autobegin)</span>
<span class="g g-Whitespace">    </span><span class="mi">146</span>         <span class="bp">self</span><span class="o">.</span><span class="n">_dbapi_connection</span> <span class="o">=</span> <span class="n">engine</span><span class="o">.</span><span class="n">raw_connection</span><span class="p">()</span>
<span class="g g-Whitespace">    </span><span class="mi">147</span>     <span class="k">except</span> <span class="n">dialect</span><span class="o">.</span><span class="n">loaded_dbapi</span><span class="o">.</span><span class="n">Error</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">148</span>         <span class="n">Connection</span><span class="o">.</span><span class="n">_handle_dbapi_exception_noconnection</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">149</span>             <span class="n">err</span><span class="p">,</span> <span class="n">dialect</span><span class="p">,</span> <span class="n">engine</span>
<span class="g g-Whitespace">    </span><span class="mi">150</span>         <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">151</span>         <span class="k">raise</span>
<span class="g g-Whitespace">    </span><span class="mi">152</span> <span class="k">else</span><span class="p">:</span>

<span class="nn">File c:\laragon\bin\python\python-3.10\lib\site-packages\sqlalchemy\engine\base.py:2439,</span> in <span class="ni">Connection._handle_dbapi_exception_noconnection</span><span class="nt">(cls, e, dialect, engine, is_disconnect, invalidate_pool_on_disconnect, is_pre_ping)</span>
<span class="g g-Whitespace">   </span><span class="mi">2437</span> <span class="k">elif</span> <span class="n">should_wrap</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">2438</span>     <span class="k">assert</span> <span class="n">sqlalchemy_exception</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
<span class="ne">-&gt; </span><span class="mi">2439</span>     <span class="k">raise</span> <span class="n">sqlalchemy_exception</span><span class="o">.</span><span class="n">with_traceback</span><span class="p">(</span><span class="n">exc_info</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
<span class="g g-Whitespace">   </span><span class="mi">2440</span> <span class="k">else</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">2441</span>     <span class="k">assert</span> <span class="n">exc_info</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

<span class="nn">File c:\laragon\bin\python\python-3.10\lib\site-packages\sqlalchemy\engine\base.py:146,</span> in <span class="ni">Connection.__init__</span><span class="nt">(self, engine, connection, _has_events, _allow_revalidate, _allow_autobegin)</span>
<span class="g g-Whitespace">    </span><span class="mi">144</span> <span class="k">if</span> <span class="n">connection</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">145</span>     <span class="k">try</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">146</span>         <span class="bp">self</span><span class="o">.</span><span class="n">_dbapi_connection</span> <span class="o">=</span> <span class="n">engine</span><span class="o">.</span><span class="n">raw_connection</span><span class="p">()</span>
<span class="g g-Whitespace">    </span><span class="mi">147</span>     <span class="k">except</span> <span class="n">dialect</span><span class="o">.</span><span class="n">loaded_dbapi</span><span class="o">.</span><span class="n">Error</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">148</span>         <span class="n">Connection</span><span class="o">.</span><span class="n">_handle_dbapi_exception_noconnection</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">149</span>             <span class="n">err</span><span class="p">,</span> <span class="n">dialect</span><span class="p">,</span> <span class="n">engine</span>
<span class="g g-Whitespace">    </span><span class="mi">150</span>         <span class="p">)</span>

<span class="nn">File c:\laragon\bin\python\python-3.10\lib\site-packages\sqlalchemy\engine\base.py:3298,</span> in <span class="ni">Engine.raw_connection</span><span class="nt">(self)</span>
<span class="g g-Whitespace">   </span><span class="mi">3276</span> <span class="k">def</span><span class="w"> </span><span class="nf">raw_connection</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PoolProxiedConnection</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">3277</span><span class="w">     </span><span class="sd">&quot;&quot;&quot;Return a &quot;raw&quot; DBAPI connection from the connection pool.</span>
<span class="g g-Whitespace">   </span><span class="mi">3278</span><span class="sd"> </span>
<span class="g g-Whitespace">   </span><span class="mi">3279</span><span class="sd">     The returned object is a proxied version of the DBAPI</span>
<span class="sd">   (...)</span>
<span class="g g-Whitespace">   </span><span class="mi">3296</span><span class="sd"> </span>
<span class="g g-Whitespace">   </span><span class="mi">3297</span><span class="sd">     &quot;&quot;&quot;</span>
<span class="ne">-&gt; </span><span class="mi">3298</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">pool</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>

<span class="nn">File c:\laragon\bin\python\python-3.10\lib\site-packages\sqlalchemy\pool\base.py:449,</span> in <span class="ni">Pool.connect</span><span class="nt">(self)</span>
<span class="g g-Whitespace">    </span><span class="mi">441</span> <span class="k">def</span><span class="w"> </span><span class="nf">connect</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PoolProxiedConnection</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">442</span><span class="w">     </span><span class="sd">&quot;&quot;&quot;Return a DBAPI connection from the pool.</span>
<span class="g g-Whitespace">    </span><span class="mi">443</span><span class="sd"> </span>
<span class="g g-Whitespace">    </span><span class="mi">444</span><span class="sd">     The connection is instrumented such that when its</span>
<span class="sd">   (...)</span>
<span class="g g-Whitespace">    </span><span class="mi">447</span><span class="sd"> </span>
<span class="g g-Whitespace">    </span><span class="mi">448</span><span class="sd">     &quot;&quot;&quot;</span>
<span class="ne">--&gt; </span><span class="mi">449</span>     <span class="k">return</span> <span class="n">_ConnectionFairy</span><span class="o">.</span><span class="n">_checkout</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

<span class="nn">File c:\laragon\bin\python\python-3.10\lib\site-packages\sqlalchemy\pool\base.py:1263,</span> in <span class="ni">_ConnectionFairy._checkout</span><span class="nt">(cls, pool, threadconns, fairy)</span>
<span class="g g-Whitespace">   </span><span class="mi">1255</span> <span class="nd">@classmethod</span>
<span class="g g-Whitespace">   </span><span class="mi">1256</span> <span class="k">def</span><span class="w"> </span><span class="nf">_checkout</span><span class="p">(</span>
<span class="g g-Whitespace">   </span><span class="mi">1257</span>     <span class="bp">cls</span><span class="p">,</span>
   <span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1260</span>     <span class="n">fairy</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">_ConnectionFairy</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1261</span> <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">_ConnectionFairy</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">1262</span>     <span class="k">if</span> <span class="ow">not</span> <span class="n">fairy</span><span class="p">:</span>
<span class="ne">-&gt; </span><span class="mi">1263</span>         <span class="n">fairy</span> <span class="o">=</span> <span class="n">_ConnectionRecord</span><span class="o">.</span><span class="n">checkout</span><span class="p">(</span><span class="n">pool</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1265</span>         <span class="k">if</span> <span class="n">threadconns</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">1266</span>             <span class="n">threadconns</span><span class="o">.</span><span class="n">current</span> <span class="o">=</span> <span class="n">weakref</span><span class="o">.</span><span class="n">ref</span><span class="p">(</span><span class="n">fairy</span><span class="p">)</span>

<span class="nn">File c:\laragon\bin\python\python-3.10\lib\site-packages\sqlalchemy\pool\base.py:712,</span> in <span class="ni">_ConnectionRecord.checkout</span><span class="nt">(cls, pool)</span>
<span class="g g-Whitespace">    </span><span class="mi">710</span>     <span class="n">rec</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">_ConnectionRecord</span><span class="p">,</span> <span class="n">pool</span><span class="o">.</span><span class="n">_do_get</span><span class="p">())</span>
<span class="g g-Whitespace">    </span><span class="mi">711</span> <span class="k">else</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">712</span>     <span class="n">rec</span> <span class="o">=</span> <span class="n">pool</span><span class="o">.</span><span class="n">_do_get</span><span class="p">()</span>
<span class="g g-Whitespace">    </span><span class="mi">714</span> <span class="k">try</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">715</span>     <span class="n">dbapi_connection</span> <span class="o">=</span> <span class="n">rec</span><span class="o">.</span><span class="n">get_connection</span><span class="p">()</span>

<span class="nn">File c:\laragon\bin\python\python-3.10\lib\site-packages\sqlalchemy\pool\impl.py:179,</span> in <span class="ni">QueuePool._do_get</span><span class="nt">(self)</span>
<span class="g g-Whitespace">    </span><span class="mi">177</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_connection</span><span class="p">()</span>
<span class="g g-Whitespace">    </span><span class="mi">178</span> <span class="k">except</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">179</span>     <span class="k">with</span> <span class="n">util</span><span class="o">.</span><span class="n">safe_reraise</span><span class="p">():</span>
<span class="g g-Whitespace">    </span><span class="mi">180</span>         <span class="bp">self</span><span class="o">.</span><span class="n">_dec_overflow</span><span class="p">()</span>
<span class="g g-Whitespace">    </span><span class="mi">181</span>     <span class="k">raise</span>

<span class="nn">File c:\laragon\bin\python\python-3.10\lib\site-packages\sqlalchemy\util\langhelpers.py:146,</span> in <span class="ni">safe_reraise.__exit__</span><span class="nt">(self, type_, value, traceback)</span>
<span class="g g-Whitespace">    </span><span class="mi">144</span>     <span class="k">assert</span> <span class="n">exc_value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
<span class="g g-Whitespace">    </span><span class="mi">145</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_exc_info</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># remove potential circular references</span>
<span class="ne">--&gt; </span><span class="mi">146</span>     <span class="k">raise</span> <span class="n">exc_value</span><span class="o">.</span><span class="n">with_traceback</span><span class="p">(</span><span class="n">exc_tb</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">147</span> <span class="k">else</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">148</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_exc_info</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># remove potential circular references</span>

<span class="nn">File c:\laragon\bin\python\python-3.10\lib\site-packages\sqlalchemy\pool\impl.py:177,</span> in <span class="ni">QueuePool._do_get</span><span class="nt">(self)</span>
<span class="g g-Whitespace">    </span><span class="mi">175</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_inc_overflow</span><span class="p">():</span>
<span class="g g-Whitespace">    </span><span class="mi">176</span>     <span class="k">try</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">177</span>         <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_connection</span><span class="p">()</span>
<span class="g g-Whitespace">    </span><span class="mi">178</span>     <span class="k">except</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">179</span>         <span class="k">with</span> <span class="n">util</span><span class="o">.</span><span class="n">safe_reraise</span><span class="p">():</span>

<span class="nn">File c:\laragon\bin\python\python-3.10\lib\site-packages\sqlalchemy\pool\base.py:390,</span> in <span class="ni">Pool._create_connection</span><span class="nt">(self)</span>
<span class="g g-Whitespace">    </span><span class="mi">387</span> <span class="k">def</span><span class="w"> </span><span class="nf">_create_connection</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ConnectionPoolEntry</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">388</span><span class="w">     </span><span class="sd">&quot;&quot;&quot;Called by subclasses to create a new ConnectionRecord.&quot;&quot;&quot;</span>
<span class="ne">--&gt; </span><span class="mi">390</span>     <span class="k">return</span> <span class="n">_ConnectionRecord</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

<span class="nn">File c:\laragon\bin\python\python-3.10\lib\site-packages\sqlalchemy\pool\base.py:674,</span> in <span class="ni">_ConnectionRecord.__init__</span><span class="nt">(self, pool, connect)</span>
<span class="g g-Whitespace">    </span><span class="mi">672</span> <span class="bp">self</span><span class="o">.</span><span class="n">__pool</span> <span class="o">=</span> <span class="n">pool</span>
<span class="g g-Whitespace">    </span><span class="mi">673</span> <span class="k">if</span> <span class="n">connect</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">674</span>     <span class="bp">self</span><span class="o">.</span><span class="n">__connect</span><span class="p">()</span>
<span class="g g-Whitespace">    </span><span class="mi">675</span> <span class="bp">self</span><span class="o">.</span><span class="n">finalize_callback</span> <span class="o">=</span> <span class="n">deque</span><span class="p">()</span>

<span class="nn">File c:\laragon\bin\python\python-3.10\lib\site-packages\sqlalchemy\pool\base.py:900,</span> in <span class="ni">_ConnectionRecord.__connect</span><span class="nt">(self)</span>
<span class="g g-Whitespace">    </span><span class="mi">898</span>     <span class="bp">self</span><span class="o">.</span><span class="n">fresh</span> <span class="o">=</span> <span class="kc">True</span>
<span class="g g-Whitespace">    </span><span class="mi">899</span> <span class="k">except</span> <span class="ne">BaseException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">900</span>     <span class="k">with</span> <span class="n">util</span><span class="o">.</span><span class="n">safe_reraise</span><span class="p">():</span>
<span class="g g-Whitespace">    </span><span class="mi">901</span>         <span class="n">pool</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Error on connect(): </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">902</span> <span class="k">else</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">903</span>     <span class="c1"># in SQLAlchemy 1.4 the first_connect event is not used by</span>
<span class="g g-Whitespace">    </span><span class="mi">904</span>     <span class="c1"># the engine, so this will usually not be set</span>

<span class="nn">File c:\laragon\bin\python\python-3.10\lib\site-packages\sqlalchemy\util\langhelpers.py:146,</span> in <span class="ni">safe_reraise.__exit__</span><span class="nt">(self, type_, value, traceback)</span>
<span class="g g-Whitespace">    </span><span class="mi">144</span>     <span class="k">assert</span> <span class="n">exc_value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
<span class="g g-Whitespace">    </span><span class="mi">145</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_exc_info</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># remove potential circular references</span>
<span class="ne">--&gt; </span><span class="mi">146</span>     <span class="k">raise</span> <span class="n">exc_value</span><span class="o">.</span><span class="n">with_traceback</span><span class="p">(</span><span class="n">exc_tb</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">147</span> <span class="k">else</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">148</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_exc_info</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># remove potential circular references</span>

<span class="nn">File c:\laragon\bin\python\python-3.10\lib\site-packages\sqlalchemy\pool\base.py:896,</span> in <span class="ni">_ConnectionRecord.__connect</span><span class="nt">(self)</span>
<span class="g g-Whitespace">    </span><span class="mi">894</span> <span class="k">try</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">895</span>     <span class="bp">self</span><span class="o">.</span><span class="n">starttime</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="ne">--&gt; </span><span class="mi">896</span>     <span class="bp">self</span><span class="o">.</span><span class="n">dbapi_connection</span> <span class="o">=</span> <span class="n">connection</span> <span class="o">=</span> <span class="n">pool</span><span class="o">.</span><span class="n">_invoke_creator</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">897</span>     <span class="n">pool</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Created new connection </span><span class="si">%r</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">connection</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">898</span>     <span class="bp">self</span><span class="o">.</span><span class="n">fresh</span> <span class="o">=</span> <span class="kc">True</span>

<span class="nn">File c:\laragon\bin\python\python-3.10\lib\site-packages\sqlalchemy\engine\create.py:646,</span> in <span class="ni">create_engine.&lt;locals&gt;.connect</span><span class="nt">(connection_record)</span>
<span class="g g-Whitespace">    </span><span class="mi">643</span>         <span class="k">if</span> <span class="n">connection</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">644</span>             <span class="k">return</span> <span class="n">connection</span>
<span class="ne">--&gt; </span><span class="mi">646</span> <span class="k">return</span> <span class="n">dialect</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="o">*</span><span class="n">cargs</span><span class="p">,</span> <span class="o">**</span><span class="n">cparams</span><span class="p">)</span>

<span class="nn">File c:\laragon\bin\python\python-3.10\lib\site-packages\sqlalchemy\engine\default.py:622,</span> in <span class="ni">DefaultDialect.connect</span><span class="nt">(self, *cargs, **cparams)</span>
<span class="g g-Whitespace">    </span><span class="mi">620</span> <span class="k">def</span><span class="w"> </span><span class="nf">connect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">cargs</span><span class="p">,</span> <span class="o">**</span><span class="n">cparams</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">621</span>     <span class="c1"># inherits the docstring from interfaces.Dialect.connect</span>
<span class="ne">--&gt; </span><span class="mi">622</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">loaded_dbapi</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="o">*</span><span class="n">cargs</span><span class="p">,</span> <span class="o">**</span><span class="n">cparams</span><span class="p">)</span>

<span class="nn">File c:\laragon\bin\python\python-3.10\lib\site-packages\pymysql\connections.py:361,</span> in <span class="ni">Connection.__init__</span><span class="nt">(self, user, password, host, database, unix_socket, port, charset, collation, sql_mode, read_default_file, conv, use_unicode, client_flag, cursorclass, init_command, connect_timeout, read_default_group, autocommit, local_infile, max_allowed_packet, defer_connect, auth_plugin_map, read_timeout, write_timeout, bind_address, binary_prefix, program_name, server_public_key, ssl, ssl_ca, ssl_cert, ssl_disabled, ssl_key, ssl_key_password, ssl_verify_cert, ssl_verify_identity, compress, named_pipe, passwd, db)</span>
<span class="g g-Whitespace">    </span><span class="mi">359</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_sock</span> <span class="o">=</span> <span class="kc">None</span>
<span class="g g-Whitespace">    </span><span class="mi">360</span> <span class="k">else</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">361</span>     <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>

<span class="nn">File c:\laragon\bin\python\python-3.10\lib\site-packages\pymysql\connections.py:716,</span> in <span class="ni">Connection.connect</span><span class="nt">(self, sock)</span>
<span class="g g-Whitespace">    </span><span class="mi">714</span>     <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">715</span>         <span class="nb">print</span><span class="p">(</span><span class="n">exc</span><span class="o">.</span><span class="n">traceback</span><span class="p">)</span>
<span class="ne">--&gt; </span><span class="mi">716</span>     <span class="k">raise</span> <span class="n">exc</span>
<span class="g g-Whitespace">    </span><span class="mi">718</span> <span class="c1"># If e is neither DatabaseError or IOError, It&#39;s a bug.</span>
<span class="g g-Whitespace">    </span><span class="mi">719</span> <span class="c1"># But raising AssertionError hides original error.</span>
<span class="g g-Whitespace">    </span><span class="mi">720</span> <span class="c1"># So just reraise it.</span>
<span class="g g-Whitespace">    </span><span class="mi">721</span> <span class="k">raise</span>

<span class="ne">OperationalError</span>: (pymysql.err.OperationalError) (2003, &quot;Can&#39;t connect to MySQL server on &#39;rendydevanodanendra-mysql-devano.i.aivencloud.com&#39; ([Errno 11001] getaddrinfo failed)&quot;)
<span class="p">(</span><span class="n">Background</span> <span class="n">on</span> <span class="n">this</span> <span class="n">error</span> <span class="n">at</span><span class="p">:</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">sqlalche</span><span class="o">.</span><span class="n">me</span><span class="o">/</span><span class="n">e</span><span class="o">/</span><span class="mi">20</span><span class="o">/</span><span class="n">e3q8</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">mysql_query</span> <span class="pre">=</span> <span class="pre">&quot;SELECT</span> <span class="pre">*</span> <span class="pre">FROM</span> <span class="pre">iris_data</span> <span class="pre">ORDER</span> <span class="pre">BY</span> <span class="pre">id;&quot;</span></code><br />
Query SQL ini mengambil semua baris (<code class="docutils literal notranslate"><span class="pre">SELECT</span> <span class="pre">*</span></code>) dari tabel <code class="docutils literal notranslate"><span class="pre">iris_data</span></code> di MySQL dan mengurutkannya berdasarkan kolom <code class="docutils literal notranslate"><span class="pre">id</span></code><br />
<code class="docutils literal notranslate"><span class="pre">df_mysql</span> <span class="pre">=</span> <span class="pre">pd.read_sql(mysql_query,</span> <span class="pre">mysql_engine)</span></code><br />
Fungsi <code class="docutils literal notranslate"><span class="pre">pd.read_sql()</span></code> menjalankan query tersebut pada engine MySQL <code class="docutils literal notranslate"><span class="pre">(mysql_engine)</span></code> dan mengembalikan hasilnya sebagai DataFrame (variabel <code class="docutils literal notranslate"><span class="pre">df_mysql</span></code>).</p>
</section>
<section id="definisikan-query-untuk-postgre">
<h3><strong>Definisikan Query untuk postgre</strong><a class="headerlink" href="#definisikan-query-untuk-postgre" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pg_query</span> <span class="o">=</span> <span class="s2">&quot;SELECT * FROM iris_data ORDER BY id;&quot;</span>
<span class="n">df_postgres</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_sql</span><span class="p">(</span><span class="n">pg_query</span><span class="p">,</span> <span class="n">pg_engine</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">pg_query</span> <span class="pre">=</span> <span class="pre">&quot;SELECT</span> <span class="pre">*</span> <span class="pre">FROM</span> <span class="pre">iris_data</span> <span class="pre">ORDER</span> <span class="pre">BY</span> <span class="pre">id;&quot;</span></code>
Sama seperti query untuk MySQL, query ini mengambil semua baris dari tabel <code class="docutils literal notranslate"><span class="pre">iris_data</span></code> di PostgreSQL dan mengurutkannya berdasarkan <code class="docutils literal notranslate"><span class="pre">id</span></code>.<br />
<code class="docutils literal notranslate"><span class="pre">df_postgres</span> <span class="pre">=</span> <span class="pre">pd.read_sql(pg_query,</span> <span class="pre">pg_engine)</span></code>
Fungsi ini menjalankan query pada engine PostgreSQL (<code class="docutils literal notranslate"><span class="pre">pg_engine</span></code>) dan hasilnya disimpan dalam DataFrame <code class="docutils literal notranslate"><span class="pre">df_postgres</span></code></p>
</section>
<section id="menampilkan-data">
<h3><strong>Menampilkan Data</strong><a class="headerlink" href="#menampilkan-data" title="Link to this heading">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">print(&quot;Data</span> <span class="pre">dari</span> <span class="pre">MySQL:&quot;)</span></code><br />
Mencetak judul untuk data yang diambil dari MySQL.<br />
<code class="docutils literal notranslate"><span class="pre">print(df_mysql)</span></code><br />
Menampilkan DataFrame yang berisi hasil query dari MySQL.<br />
<code class="docutils literal notranslate"><span class="pre">print(&quot;\nData</span> <span class="pre">dari</span> <span class="pre">PostgreSQL:&quot;)</span></code><br />
Mencetak judul untuk data yang diambil dari PostgreSQL dengan menambahkan newline (\n) agar output menjadi lebih rapi.<br />
<code class="docutils literal notranslate"><span class="pre">print(df_postgres)</span></code><br />
Menampilkan DataFrame hasil query dari PostgreSQL.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Data dari MySQL:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_mysql</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2"> Data dari PostgreSQL:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_postgres</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Data dari MySQL:
      id           class  petal_length  petal_width
0      1     Iris-setosa          70.0         86.4
1      2     Iris-setosa           1.4          0.2
2      3     Iris-setosa           1.3          0.2
3      4     Iris-setosa           1.5          0.2
4      5     Iris-setosa           1.4          0.2
..   ...             ...           ...          ...
145  146  Iris-virginica           5.2          2.3
146  147  Iris-virginica           5.0          1.9
147  148  Iris-virginica           5.2          2.0
148  149  Iris-virginica           5.4          2.3
149  150  Iris-virginica           5.1          1.8

[150 rows x 4 columns]

 Data dari PostgreSQL:
      id           class  sepal_length  sepal_width
0      1     Iris-setosa          20.1         30.5
1      2     Iris-setosa           4.9          3.0
2      3     Iris-setosa           4.7          3.2
3      4     Iris-setosa           4.6          3.1
4      5     Iris-setosa           5.0          3.6
..   ...             ...           ...          ...
145  146  Iris-virginica           6.7          3.0
146  147  Iris-virginica           6.3          2.5
147  148  Iris-virginica           6.5          3.0
148  149  Iris-virginica           6.2          3.4
149  150  Iris-virginica           5.9          3.0

[150 rows x 4 columns]
</pre></div>
</div>
</div>
</div>
</section>
<section id="mengambil-data-dari-mysql">
<h3><strong>Mengambil Data dari MySQL</strong><a class="headerlink" href="#mengambil-data-dari-mysql" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mysql_petal</span> <span class="o">=</span> <span class="n">df_mysql</span><span class="p">[[</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;class&#39;</span><span class="p">,</span> <span class="s1">&#39;petal_length&#39;</span><span class="p">,</span> <span class="s1">&#39;petal_width&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<p>Dari DataFrame <code class="docutils literal notranslate"><span class="pre">df_mysql</span></code>, kita hanya memilih kolom-kolom yang diperlukan<br />
<code class="docutils literal notranslate"><span class="pre">id</span></code>,<code class="docutils literal notranslate"><span class="pre">class</span></code>,<code class="docutils literal notranslate"><span class="pre">petal_length</span></code>,<code class="docutils literal notranslate"><span class="pre">petal_width</span></code><br />
Data yang dipilih disimpan ke variabel <code class="docutils literal notranslate"><span class="pre">petal_data</span></code></p>
</section>
<section id="mengambil-data-dari-postgresql">
<h3><strong>Mengambil Data dari PostgreSQL</strong><a class="headerlink" href="#mengambil-data-dari-postgresql" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">postgres_sepal</span> <span class="o">=</span> <span class="n">df_postgres</span><span class="p">[[</span><span class="s1">&#39;sepal_length&#39;</span><span class="p">,</span> <span class="s1">&#39;sepal_width&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<p>Dari DataFrame <code class="docutils literal notranslate"><span class="pre">df_postgres</span></code>, kita memilih dua kolom:<br />
<code class="docutils literal notranslate"><span class="pre">sepal_length</span></code><br />
<code class="docutils literal notranslate"><span class="pre">sepal_width</span></code><br />
Data ini disimpan ke variabel <code class="docutils literal notranslate"><span class="pre">sepal_data</span></code>.<br />
Kenapa kok cuma mengambil dua kolom karena kita sudah mengambil kolom <code class="docutils literal notranslate"><span class="pre">id</span></code>,<code class="docutils literal notranslate"><span class="pre">class</span></code> di table petal dan untuk menghindari duplikasi</p>
</section>
<section id="menggambungkan-data">
<h3><strong>Menggambungkan data</strong><a class="headerlink" href="#menggambungkan-data" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">combined_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">mysql_petal</span><span class="p">,</span> <span class="n">postgres_sepal</span><span class="p">,</span> <span class="n">left_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">right_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Fungsi <code class="docutils literal notranslate"><span class="pre">.merge()</span></code> menggabungkan dua DataFrame.
Di sini, kita menggabungkan <code class="docutils literal notranslate"><span class="pre">petal_data</span></code> dan <code class="docutils literal notranslate"><span class="pre">sepal_data</span></code> dengan cara:<br />
<code class="docutils literal notranslate"><span class="pre">left_index=True,</span> <span class="pre">right_index=True</span></code>: Menggabungkan berdasarkan index (baris) dari kedua DataFrame.<br />
Jadi, baris pertama dari <code class="docutils literal notranslate"><span class="pre">petal_data</span></code> akan disandingkan dengan baris pertama dari <code class="docutils literal notranslate"><span class="pre">sepal_data</span></code>, dan seterusnya.</p>
</section>
<section id="menampilkan-hasil-gabungan">
<h3><strong>Menampilkan Hasil Gabungan</strong><a class="headerlink" href="#menampilkan-hasil-gabungan" title="Link to this heading">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">print(&quot;Data</span> <span class="pre">Gabungan:&quot;)</span></code> mencetak teks sebagai judul output.<br />
<code class="docutils literal notranslate"><span class="pre">print(combined.head())</span></code> menampilkan 5 baris pertama dari DataFrame hasil penggabungan <code class="docutils literal notranslate"><span class="pre">(combined)</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Data Gabungan (Merge) dengan Class:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">combined_df</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Data Gabungan (Merge) dengan Class:
   id        class  petal_length  petal_width  sepal_length  sepal_width
0   1  Iris-setosa          70.0         86.4          20.1         30.5
1   2  Iris-setosa           1.4          0.2           4.9          3.0
2   3  Iris-setosa           1.3          0.2           4.7          3.2
3   4  Iris-setosa           1.5          0.2           4.6          3.1
4   5  Iris-setosa           1.4          0.2           5.0          3.6
</pre></div>
</div>
</div>
</div>
</section>
<section id="mendeteksi-outlier-menggunakan-python">
<h3><strong>Mendeteksi outlier menggunakan python</strong><a class="headerlink" href="#mendeteksi-outlier-menggunakan-python" title="Link to this heading">#</a></h3>
<p>model KNN dengan metode euclidean distance lalu memvisualisasikannya menggunakan Seaborn dan Matplotlib</p>
<p><code class="docutils literal notranslate"><span class="pre">pandas</span></code> â†’ untuk mengolah data dalam bentuk DataFrame.<br />
<code class="docutils literal notranslate"><span class="pre">numpy</span></code> â†’ untuk komputasi numerik, seperti perhitungan rata-rata dan standar deviasi.<br />
<code class="docutils literal notranslate"><span class="pre">seaborn</span></code>â†’ untuk membuat visualisasi data yang menarik.<br />
<code class="docutils literal notranslate"><span class="pre">matplotlib.pyplot</span></code> â†’ untuk membuat grafik.<br />
<code class="docutils literal notranslate"><span class="pre">sklearn.neighbors.NearestNeighbors</span></code> â†’ digunakan untuk mendeteksi outlier dengan KNN.</p>
<p>Variabel <code class="docutils literal notranslate"><span class="pre">combined_df</span></code> diasumsikan sudah berisi dataset yang akan digunakan untuk analisis.</p>
<p><code class="docutils literal notranslate"><span class="pre">id_column</span> <span class="pre">=</span> <span class="pre">data['id']</span> <span class="pre">if</span> <span class="pre">'id'</span> <span class="pre">in</span> <span class="pre">data.columns</span> <span class="pre">else</span> <span class="pre">None</span></code><br />
Jika dataset memiliki kolom <em>â€œidâ€</em>, maka kolom tersebut disimpan dalam variabel <code class="docutils literal notranslate"><span class="pre">id_column.</span></code><br />
ID ini berguna untuk mengetahui <strong>ID</strong> data yang terdeteksi sebagai outlier.</p>
</section>
<section id="load-dataset">
<h3><strong>Load dataset</strong><a class="headerlink" href="#load-dataset" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">combined_df</span>
<span class="c1"># Simpan ID jika ada</span>
<span class="n">id_column</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span> <span class="k">if</span> <span class="s1">&#39;id&#39;</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">columns</span> <span class="k">else</span> <span class="kc">None</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="memilih-kolom-yang-digunakan-untuk-deteksi-outlier">
<h3><strong>Memilih kolom yang digunakan untuk deteksi outlier</strong><a class="headerlink" href="#memilih-kolom-yang-digunakan-untuk-deteksi-outlier" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">selected_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;sepal_length&#39;</span><span class="p">,</span> <span class="s1">&#39;sepal_width&#39;</span><span class="p">,</span> <span class="s1">&#39;petal_length&#39;</span><span class="p">,</span> <span class="s1">&#39;petal_width&#39;</span><span class="p">]</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">selected_columns</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="ambil-data-sebagai-array-x">
<h3><strong>Ambil data sebagai array X</strong><a class="headerlink" href="#ambil-data-sebagai-array-x" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">X</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">values</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="deteksi-outlier">
<h3><strong>Deteksi Outlier</strong><a class="headerlink" href="#deteksi-outlier" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.neighbors</span><span class="w"> </span><span class="kn">import</span> <span class="n">NearestNeighbors</span>

<span class="n">knn</span> <span class="o">=</span> <span class="n">NearestNeighbors</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">metric</span><span class="o">=</span><span class="s1">&#39;euclidean&#39;</span><span class="p">)</span>
<span class="n">knn</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>#sk-container-id-1 {
  /* Definition of color scheme common for light and dark mode */
  --sklearn-color-text: #000;
  --sklearn-color-text-muted: #666;
  --sklearn-color-line: gray;
  /* Definition of color scheme for unfitted estimators */
  --sklearn-color-unfitted-level-0: #fff5e6;
  --sklearn-color-unfitted-level-1: #f6e4d2;
  --sklearn-color-unfitted-level-2: #ffe0b3;
  --sklearn-color-unfitted-level-3: chocolate;
  /* Definition of color scheme for fitted estimators */
  --sklearn-color-fitted-level-0: #f0f8ff;
  --sklearn-color-fitted-level-1: #d4ebff;
  --sklearn-color-fitted-level-2: #b3dbfd;
  --sklearn-color-fitted-level-3: cornflowerblue;

  /* Specific color for light theme */
  --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));
  --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, white)));
  --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));
  --sklearn-color-icon: #696969;

  @media (prefers-color-scheme: dark) {
    /* Redefinition of color scheme for dark theme */
    --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));
    --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, #111)));
    --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));
    --sklearn-color-icon: #878787;
  }
}

#sk-container-id-1 {
  color: var(--sklearn-color-text);
}

#sk-container-id-1 pre {
  padding: 0;
}

#sk-container-id-1 input.sk-hidden--visually {
  border: 0;
  clip: rect(1px 1px 1px 1px);
  clip: rect(1px, 1px, 1px, 1px);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;
}

#sk-container-id-1 div.sk-dashed-wrapped {
  border: 1px dashed var(--sklearn-color-line);
  margin: 0 0.4em 0.5em 0.4em;
  box-sizing: border-box;
  padding-bottom: 0.4em;
  background-color: var(--sklearn-color-background);
}

#sk-container-id-1 div.sk-container {
  /* jupyter's `normalize.less` sets `[hidden] { display: none; }`
     but bootstrap.min.css set `[hidden] { display: none !important; }`
     so we also need the `!important` here to be able to override the
     default hidden behavior on the sphinx rendered scikit-learn.org.
     See: https://github.com/scikit-learn/scikit-learn/issues/21755 */
  display: inline-block !important;
  position: relative;
}

#sk-container-id-1 div.sk-text-repr-fallback {
  display: none;
}

div.sk-parallel-item,
div.sk-serial,
div.sk-item {
  /* draw centered vertical line to link estimators */
  background-image: linear-gradient(var(--sklearn-color-text-on-default-background), var(--sklearn-color-text-on-default-background));
  background-size: 2px 100%;
  background-repeat: no-repeat;
  background-position: center center;
}

/* Parallel-specific style estimator block */

#sk-container-id-1 div.sk-parallel-item::after {
  content: "";
  width: 100%;
  border-bottom: 2px solid var(--sklearn-color-text-on-default-background);
  flex-grow: 1;
}

#sk-container-id-1 div.sk-parallel {
  display: flex;
  align-items: stretch;
  justify-content: center;
  background-color: var(--sklearn-color-background);
  position: relative;
}

#sk-container-id-1 div.sk-parallel-item {
  display: flex;
  flex-direction: column;
}

#sk-container-id-1 div.sk-parallel-item:first-child::after {
  align-self: flex-end;
  width: 50%;
}

#sk-container-id-1 div.sk-parallel-item:last-child::after {
  align-self: flex-start;
  width: 50%;
}

#sk-container-id-1 div.sk-parallel-item:only-child::after {
  width: 0;
}

/* Serial-specific style estimator block */

#sk-container-id-1 div.sk-serial {
  display: flex;
  flex-direction: column;
  align-items: center;
  background-color: var(--sklearn-color-background);
  padding-right: 1em;
  padding-left: 1em;
}


/* Toggleable style: style used for estimator/Pipeline/ColumnTransformer box that is
clickable and can be expanded/collapsed.
- Pipeline and ColumnTransformer use this feature and define the default style
- Estimators will overwrite some part of the style using the `sk-estimator` class
*/

/* Pipeline and ColumnTransformer style (default) */

#sk-container-id-1 div.sk-toggleable {
  /* Default theme specific background. It is overwritten whether we have a
  specific estimator or a Pipeline/ColumnTransformer */
  background-color: var(--sklearn-color-background);
}

/* Toggleable label */
#sk-container-id-1 label.sk-toggleable__label {
  cursor: pointer;
  display: flex;
  width: 100%;
  margin-bottom: 0;
  padding: 0.5em;
  box-sizing: border-box;
  text-align: center;
  align-items: start;
  justify-content: space-between;
  gap: 0.5em;
}

#sk-container-id-1 label.sk-toggleable__label .caption {
  font-size: 0.6rem;
  font-weight: lighter;
  color: var(--sklearn-color-text-muted);
}

#sk-container-id-1 label.sk-toggleable__label-arrow:before {
  /* Arrow on the left of the label */
  content: "â–¸";
  float: left;
  margin-right: 0.25em;
  color: var(--sklearn-color-icon);
}

#sk-container-id-1 label.sk-toggleable__label-arrow:hover:before {
  color: var(--sklearn-color-text);
}

/* Toggleable content - dropdown */

#sk-container-id-1 div.sk-toggleable__content {
  max-height: 0;
  max-width: 0;
  overflow: hidden;
  text-align: left;
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-1 div.sk-toggleable__content.fitted {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

#sk-container-id-1 div.sk-toggleable__content pre {
  margin: 0.2em;
  border-radius: 0.25em;
  color: var(--sklearn-color-text);
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-1 div.sk-toggleable__content.fitted pre {
  /* unfitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

#sk-container-id-1 input.sk-toggleable__control:checked~div.sk-toggleable__content {
  /* Expand drop-down */
  max-height: 200px;
  max-width: 100%;
  overflow: auto;
}

#sk-container-id-1 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {
  content: "â–¾";
}

/* Pipeline/ColumnTransformer-specific style */

#sk-container-id-1 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-1 div.sk-label.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Estimator-specific style */

/* Colorize estimator box */
#sk-container-id-1 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-1 div.sk-estimator.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-2);
}

#sk-container-id-1 div.sk-label label.sk-toggleable__label,
#sk-container-id-1 div.sk-label label {
  /* The background is the default theme color */
  color: var(--sklearn-color-text-on-default-background);
}

/* On hover, darken the color of the background */
#sk-container-id-1 div.sk-label:hover label.sk-toggleable__label {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-unfitted-level-2);
}

/* Label box, darken color on hover, fitted */
#sk-container-id-1 div.sk-label.fitted:hover label.sk-toggleable__label.fitted {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Estimator label */

#sk-container-id-1 div.sk-label label {
  font-family: monospace;
  font-weight: bold;
  display: inline-block;
  line-height: 1.2em;
}

#sk-container-id-1 div.sk-label-container {
  text-align: center;
}

/* Estimator-specific */
#sk-container-id-1 div.sk-estimator {
  font-family: monospace;
  border: 1px dotted var(--sklearn-color-border-box);
  border-radius: 0.25em;
  box-sizing: border-box;
  margin-bottom: 0.5em;
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-1 div.sk-estimator.fitted {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

/* on hover */
#sk-container-id-1 div.sk-estimator:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-1 div.sk-estimator.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Specification for estimator info (e.g. "i" and "?") */

/* Common style for "i" and "?" */

.sk-estimator-doc-link,
a:link.sk-estimator-doc-link,
a:visited.sk-estimator-doc-link {
  float: right;
  font-size: smaller;
  line-height: 1em;
  font-family: monospace;
  background-color: var(--sklearn-color-background);
  border-radius: 1em;
  height: 1em;
  width: 1em;
  text-decoration: none !important;
  margin-left: 0.5em;
  text-align: center;
  /* unfitted */
  border: var(--sklearn-color-unfitted-level-1) 1pt solid;
  color: var(--sklearn-color-unfitted-level-1);
}

.sk-estimator-doc-link.fitted,
a:link.sk-estimator-doc-link.fitted,
a:visited.sk-estimator-doc-link.fitted {
  /* fitted */
  border: var(--sklearn-color-fitted-level-1) 1pt solid;
  color: var(--sklearn-color-fitted-level-1);
}

/* On hover */
div.sk-estimator:hover .sk-estimator-doc-link:hover,
.sk-estimator-doc-link:hover,
div.sk-label-container:hover .sk-estimator-doc-link:hover,
.sk-estimator-doc-link:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

div.sk-estimator.fitted:hover .sk-estimator-doc-link.fitted:hover,
.sk-estimator-doc-link.fitted:hover,
div.sk-label-container:hover .sk-estimator-doc-link.fitted:hover,
.sk-estimator-doc-link.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

/* Span, style for the box shown on hovering the info icon */
.sk-estimator-doc-link span {
  display: none;
  z-index: 9999;
  position: relative;
  font-weight: normal;
  right: .2ex;
  padding: .5ex;
  margin: .5ex;
  width: min-content;
  min-width: 20ex;
  max-width: 50ex;
  color: var(--sklearn-color-text);
  box-shadow: 2pt 2pt 4pt #999;
  /* unfitted */
  background: var(--sklearn-color-unfitted-level-0);
  border: .5pt solid var(--sklearn-color-unfitted-level-3);
}

.sk-estimator-doc-link.fitted span {
  /* fitted */
  background: var(--sklearn-color-fitted-level-0);
  border: var(--sklearn-color-fitted-level-3);
}

.sk-estimator-doc-link:hover span {
  display: block;
}

/* "?"-specific style due to the `<a>` HTML tag */

#sk-container-id-1 a.estimator_doc_link {
  float: right;
  font-size: 1rem;
  line-height: 1em;
  font-family: monospace;
  background-color: var(--sklearn-color-background);
  border-radius: 1rem;
  height: 1rem;
  width: 1rem;
  text-decoration: none;
  /* unfitted */
  color: var(--sklearn-color-unfitted-level-1);
  border: var(--sklearn-color-unfitted-level-1) 1pt solid;
}

#sk-container-id-1 a.estimator_doc_link.fitted {
  /* fitted */
  border: var(--sklearn-color-fitted-level-1) 1pt solid;
  color: var(--sklearn-color-fitted-level-1);
}

/* On hover */
#sk-container-id-1 a.estimator_doc_link:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

#sk-container-id-1 a.estimator_doc_link.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-3);
}
</style><div id="sk-container-id-1" class="sk-top-container"><div class="sk-text-repr-fallback"><pre>NearestNeighbors(metric=&#x27;euclidean&#x27;, n_neighbors=3)</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br />On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden><div class="sk-item"><div class="sk-estimator fitted sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-1" type="checkbox" checked><label for="sk-estimator-id-1" class="sk-toggleable__label fitted sk-toggleable__label-arrow"><div><div>NearestNeighbors</div></div><div><a class="sk-estimator-doc-link fitted" rel="noreferrer" target="_blank" href="https://scikit-learn.org/1.6/modules/generated/sklearn.neighbors.NearestNeighbors.html">?<span>Documentation for NearestNeighbors</span></a><span class="sk-estimator-doc-link fitted">i<span>Fitted</span></span></div></label><div class="sk-toggleable__content fitted"><pre>NearestNeighbors(metric=&#x27;euclidean&#x27;, n_neighbors=3)</pre></div> </div></div></div></div></div></div>
</div>
</section>
<section id="hitung-jarak-ke-tetangga-terdekat">
<h3><strong>Hitung jarak ke tetangga terdekat</strong><a class="headerlink" href="#hitung-jarak-ke-tetangga-terdekat" title="Link to this heading">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">knn.kneighbors(X)</span></code> â†’ Menghitung jarak dari setiap titik ke 3 tetangga terdekatnya.<br />
<code class="docutils literal notranslate"><span class="pre">distances_knn[:,</span> <span class="pre">1:]</span></code> â†’ Mengabaikan jarak ke dirinya sendiri ([:, 0]).<br />
<code class="docutils literal notranslate"><span class="pre">mean_knn_distances</span></code> â†’ Rata-rata jarak ke tetangga terdekat digunakan untuk mendeteksi outlier.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>

<span class="n">distances_knn</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">knn</span><span class="o">.</span><span class="n">kneighbors</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
<span class="n">mean_knn_distances</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">distances_knn</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">:],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># Rata-rata jarak ke tetangga</span>

<span class="nb">print</span><span class="p">(</span><span class="n">mean_knn_distances</span><span class="p">)</span>  <span class="c1"># Menampilkan hasil</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[109.42980462   0.14142136   0.19318517   0.15731322   0.17320508
   0.33903632   0.24409096   0.12071068   0.22071068   0.
   0.19142136   0.2236068    0.15731322   0.28058837   0.44067607
   0.45413884   0.35348264   0.15731322   0.35948041   0.14142136
   0.29142136   0.19318517   0.48407976   0.23228757   0.33708287
   0.2          0.2118034    0.14142136   0.14142136   0.15731322
   0.15731322   0.29142136   0.34641016   0.35348264   0.
   0.2618034    0.30811388   0.           0.17071068   0.12071068
   0.15731322   0.66932132   0.2118034    0.24409096   0.36736043
   0.17071068   0.19318517   0.14142136   0.1618034    0.15731322
   0.29811881   0.29040145   0.27370892   0.25         0.28058837
   0.30811388   0.31937043   0.26435985   0.24494897   0.44860014
   0.40940635   0.31583124   0.5047566    0.18251408   0.43573883
   0.22882456   0.25         0.26389584   0.38723854   0.20907703
   0.2618034    0.33903632   0.36055513   0.2618034    0.23228757
   0.19318517   0.33131896   0.34519675   0.22247449   0.38533712
   0.15731322   0.20299824   0.20299824   0.3461088    0.30615528
   0.3992149    0.29953524   0.4195157    0.17320508   0.22247449
   0.29040145   0.17071068   0.19318517   0.25098824   0.19840594
   0.15731322   0.14142136   0.26583124   0.38729833   0.15731322
  58.41041759   0.13228757   0.39364917   0.24494897   0.30811388
   0.3968627    0.74821212   0.35023251   0.57838822   0.65163796
   0.29888627   0.36028795   0.25980762   0.26457513   0.49989995
   0.33708287   0.19318517   0.61542292   0.48001656   0.47775257
   0.24409096   0.31622777   0.33844285   0.20907703   0.30811388
   0.36685425   0.20907703   0.19318517   0.20811388   0.42815606
   0.36141635   0.64774332   0.2          0.3461088    0.54764646
   0.54311952   0.31612365   0.19318517   0.18251408   0.2668801
   0.25476205   0.30275205   0.13228757   0.26991728   0.27247449
   0.30275205   0.30955736   0.28500848   0.27247449   0.29953524]
</pre></div>
</div>
</div>
</div>
</section>
<section id="threshold-outlier-dihitung-dengan-formula">
<h3><strong>Threshold outlier dihitung dengan formula:</strong><a class="headerlink" href="#threshold-outlier-dihitung-dengan-formula" title="Link to this heading">#</a></h3>
<div class="math notranslate nohighlight">
\[mean
+
(
2.5
Ã—
standardÂ deviation
)\]</div>
<p>Jika jarak rata-rata suatu titik lebih dari threshold, maka titik tersebut dianggap outlier.<br />
<code class="docutils literal notranslate"><span class="pre">np.where(mean_knn_distances</span> <span class="pre">&gt;</span> <span class="pre">threshold_knn)[0]</span></code> â†’ Mengambil indeks data yang terdeteksi sebagai outlier.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>

<span class="c1"># Menentukan threshold outlier</span>
<span class="n">threshold_knn</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">mean_knn_distances</span><span class="p">)</span> <span class="o">+</span> <span class="mf">2.5</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">mean_knn_distances</span><span class="p">)</span>

<span class="c1"># Menemukan indeks data yang dianggap outlier</span>
<span class="n">outliers_knn</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">mean_knn_distances</span> <span class="o">&gt;</span> <span class="n">threshold_knn</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

<span class="c1"># Menampilkan hasil</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Threshold Outlier:&quot;</span><span class="p">,</span> <span class="n">threshold_knn</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Indeks Outlier:&quot;</span><span class="p">,</span> <span class="n">outliers_knn</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Threshold Outlier: 26.488216407445325
Indeks Outlier: [  0 100]
</pre></div>
</div>
</div>
</div>
</section>
<section id="menandai-outlier-dalam-dataset">
<h3><strong>menandai Outlier dalam Dataset</strong><a class="headerlink" href="#menandai-outlier-dalam-dataset" title="Link to this heading">#</a></h3>
<p>Kolom <em>outlier</em> ditambahkan ke dataset dengan nilai default 0 (bukan outlier).<br />
Data yang masuk kategori outlier diberi nilai 1.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Menandai outlier dalam DataFrame</span>
<span class="n">data</span><span class="p">[</span><span class="s1">&#39;outlier&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">outliers_knn</span><span class="p">,</span> <span class="s1">&#39;outlier&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>

<span class="c1"># Menampilkan hasil</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>  <span class="c1"># Menampilkan 5 baris pertama untuk cek</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Jumlah Outlier:&quot;</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;outlier&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>  <span class="c1"># Menampilkan jumlah total outlier</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>   sepal_length  sepal_width  petal_length  petal_width  outlier
0          20.1         30.5          70.0         86.4        1
1           4.9          3.0           1.4          0.2        0
2           4.7          3.2           1.3          0.2        0
3           4.6          3.1           1.5          0.2        0
4           5.0          3.6           1.4          0.2        0

Jumlah Outlier: 2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>C:\Users\LENOVO\AppData\Local\Temp\ipykernel_25152\355909993.py:2: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  data[&#39;outlier&#39;] = 0
</pre></div>
</div>
</div>
</div>
</section>
<section id="menampilkan-hasil-dengan-id-jika-ada">
<h3><strong>Menampilkan hasil dengan ID jika ada</strong><a class="headerlink" href="#menampilkan-hasil-dengan-id-jika-ada" title="Link to this heading">#</a></h3>
<p>Jika dataset memiliki kolom ID, maka ID dari data outlier akan ditampilkan.<br />
Jika tidak ada ID, indeks outlier dalam dataset yang ditampilkan.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">id_column</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">outlier_ids</span> <span class="o">=</span> <span class="n">id_column</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">outliers_knn</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ID Outlier terdeteksi: </span><span class="si">{</span><span class="n">outlier_ids</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Outlier terdeteksi (index): </span><span class="si">{</span><span class="n">outliers_knn</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>ID Outlier terdeteksi: [  1 101]
</pre></div>
</div>
</div>
</div>
</section>
<section id="visualisasi-distribusi-fitur-dengan-outlier">
<h3><strong>Visualisasi Distribusi Fitur dengan Outlier</strong><a class="headerlink" href="#visualisasi-distribusi-fitur-dengan-outlier" title="Link to this heading">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">fig,</span> <span class="pre">axes</span> <span class="pre">=</span> <span class="pre">plt.subplots(2,</span> <span class="pre">2,</span> <span class="pre">figsize=(12,</span> <span class="pre">8))</span></code><br />
Membuat 4 subplot (2x2) untuk masing-masing fitur:</p>
<ul class="simple">
<li><p>Sepal Length</p></li>
<li><p>Sepal Width</p></li>
<li><p>Petal Length</p></li>
<li><p>Petal Width</p></li>
</ul>
<p><img alt="image.png" src="_images/code.png" /><br />
<code class="docutils literal notranslate"><span class="pre">sns.histplot()</span></code> digunakan untuk membuat histogram distribusi data.<br />
Parameter <code class="docutils literal notranslate"><span class="pre">hue=&quot;outlier&quot;</span></code> â†’ Data dengan outlier <em>(1)</em> ditampilkan dalam merah, sementara data normal <em>(0)</em> dalam biru.</p>
<p><code class="docutils literal notranslate"><span class="pre">plt.tight_layout()</span></code> Mengatur tata letak subplot agar tidak saling tumpang tindih.<br />
<code class="docutils literal notranslate"><span class="pre">plt.show()</span></code> plt.show() â†’ Menampilkan grafik.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">seaborn</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sns</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>  <span class="c1"># Perbaikan impor</span>

<span class="c1"># Visualisasi distribusi fitur dengan outlier</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>

<span class="c1"># Pastikan nama kolom sesuai dengan dataset Anda</span>
<span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;sepal_length&quot;</span><span class="p">,</span> <span class="s2">&quot;sepal_width&quot;</span><span class="p">,</span> <span class="s2">&quot;petal_length&quot;</span><span class="p">,</span> <span class="s2">&quot;petal_width&quot;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">columns</span><span class="p">):</span>
    <span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">col</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;outlier&quot;</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s2">&quot;blue&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s2">&quot;red&quot;</span><span class="p">},</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="o">//</span><span class="mi">2</span><span class="p">,</span> <span class="n">i</span><span class="o">%</span><span class="k">2</span>])

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/cd79447145ede750b533f1dcc604fe4e29525200a644515e16801b8a2c8cae62.png" src="_images/cd79447145ede750b533f1dcc604fe4e29525200a644515e16801b8a2c8cae62.png" />
</div>
</div>
</section>
<section id="menampilkan-outlier-dengan-menggunakan-library-sklearn-localoutfactor">
<h3><strong>menampilkan outlier dengan menggunakan library sklearn LocalOutFactor</strong><a class="headerlink" href="#menampilkan-outlier-dengan-menggunakan-library-sklearn-localoutfactor" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.neighbors</span><span class="w"> </span><span class="kn">import</span> <span class="n">LocalOutlierFactor</span>

<span class="n">columns_to_drop</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;class&#39;</span><span class="p">]</span>
<span class="n">combined_df</span> <span class="o">=</span> <span class="n">combined_df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;class&quot;</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span>

<span class="n">clf</span> <span class="o">=</span> <span class="n">LocalOutlierFactor</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">contamination</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>

<span class="n">y_pred</span> <span class="o">=</span> <span class="n">clf</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">combined_df</span><span class="p">)</span>
<span class="n">combined_df</span><span class="p">[</span><span class="s2">&quot;LOF&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">y_pred</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y_pred</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">combined_df</span><span class="o">.</span><span class="n">to_string</span><span class="p">())</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[-1  1  1  1  1  1  1  1  1  1  1  1  1  1 -1 -1  1  1  1  1  1  1  1  1
  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1 -1  1  1  1  1  1  1
  1  1  1  1  1  1  1  1  1 -1  1  1 -1  1  1  1  1  1  1  1  1  1  1  1
  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1 -1  1  1
  1  1 -1  1 -1  1  1  1  1 -1 -1  1  1  1  1  1  1  1  1  1  1 -1 -1  1
  1  1 -1  1  1  1  1  1  1  1  1 -1  1  1  1  1  1  1  1  1  1  1  1  1
  1  1  1  1  1  1]
     petal_length  petal_width  sepal_length  sepal_width  LOF
0            70.0         86.4          20.1         30.5   -1
1             1.4          0.2           4.9          3.0    1
2             1.3          0.2           4.7          3.2    1
3             1.5          0.2           4.6          3.1    1
4             1.4          0.2           5.0          3.6    1
5             1.7          0.4           5.4          3.9    1
6             1.4          0.3           4.6          3.4    1
7             1.5          0.2           5.0          3.4    1
8             1.4          0.2           4.4          2.9    1
9             1.5          0.1           4.9          3.1    1
10            1.5          0.2           5.4          3.7    1
11            1.6          0.2           4.8          3.4    1
12            1.4          0.1           4.8          3.0    1
13            1.1          0.1           4.3          3.0    1
14            1.2          0.2           5.8          4.0   -1
15            1.5          0.4           5.7          4.4   -1
16            1.3          0.4           5.4          3.9    1
17            1.4          0.3           5.1          3.5    1
18            1.7          0.3           5.7          3.8    1
19            1.5          0.3           5.1          3.8    1
20            1.7          0.2           5.4          3.4    1
21            1.5          0.4           5.1          3.7    1
22            1.0          0.2           4.6          3.6    1
23            1.7          0.5           5.1          3.3    1
24            1.9          0.2           4.8          3.4    1
25            1.6          0.2           5.0          3.0    1
26            1.6          0.4           5.0          3.4    1
27            1.5          0.2           5.2          3.5    1
28            1.4          0.2           5.2          3.4    1
29            1.6          0.2           4.7          3.2    1
30            1.6          0.2           4.8          3.1    1
31            1.5          0.4           5.4          3.4    1
32            1.5          0.1           5.2          4.1    1
33            1.4          0.2           5.5          4.2    1
34            1.5          0.1           4.9          3.1    1
35            1.2          0.2           5.0          3.2    1
36            1.3          0.2           5.5          3.5    1
37            1.5          0.1           4.9          3.1    1
38            1.3          0.2           4.4          3.0    1
39            1.5          0.2           5.1          3.4    1
40            1.3          0.3           5.0          3.5    1
41            1.3          0.3           4.5          2.3   -1
42            1.3          0.2           4.4          3.2    1
43            1.6          0.6           5.0          3.5    1
44            1.9          0.4           5.1          3.8    1
45            1.4          0.3           4.8          3.0    1
46            1.6          0.2           5.1          3.8    1
47            1.4          0.2           4.6          3.2    1
48            1.5          0.2           5.3          3.7    1
49            1.4          0.2           5.0          3.3    1
50            4.7          1.4           7.0          3.2    1
51            4.5          1.5           6.4          3.2    1
52            4.9          1.5           6.9          3.1    1
53            4.0          1.3           5.5          2.3    1
54            4.6          1.5           6.5          2.8    1
55            4.5          1.3           5.7          2.8    1
56            4.7          1.6           6.3          3.3    1
57            3.3          1.0           4.9          2.4   -1
58            4.6          1.3           6.6          2.9    1
59            3.9          1.4           5.2          2.7    1
60            3.5          1.0           5.0          2.0   -1
61            4.2          1.5           5.9          3.0    1
62            4.0          1.0           6.0          2.2    1
63            4.7          1.4           6.1          2.9    1
64            3.6          1.3           5.6          2.9    1
65            4.4          1.4           6.7          3.1    1
66            4.5          1.5           5.6          3.0    1
67            4.1          1.0           5.8          2.7    1
68            4.5          1.5           6.2          2.2    1
69            3.9          1.1           5.6          2.5    1
70            4.8          1.8           5.9          3.2    1
71            4.0          1.3           6.1          2.8    1
72            4.9          1.5           6.3          2.5    1
73            4.7          1.2           6.1          2.8    1
74            4.3          1.3           6.4          2.9    1
75            4.4          1.4           6.6          3.0    1
76            4.8          1.4           6.8          2.8    1
77            5.0          1.7           6.7          3.0    1
78            4.5          1.5           6.0          2.9    1
79            3.5          1.0           5.7          2.6    1
80            3.8          1.1           5.5          2.4    1
81            3.7          1.0           5.5          2.4    1
82            3.9          1.2           5.8          2.7    1
83            5.1          1.6           6.0          2.7    1
84            4.5          1.5           5.4          3.0    1
85            4.5          1.6           6.0          3.4    1
86            4.7          1.5           6.7          3.1    1
87            4.4          1.3           6.3          2.3    1
88            4.1          1.3           5.6          3.0    1
89            4.0          1.3           5.5          2.5    1
90            4.4          1.2           5.5          2.6    1
91            4.6          1.4           6.1          3.0    1
92            4.0          1.2           5.8          2.6    1
93            3.3          1.0           5.0          2.3   -1
94            4.2          1.3           5.6          2.7    1
95            4.2          1.2           5.7          3.0    1
96            4.2          1.3           5.7          2.9    1
97            4.3          1.3           6.2          2.9    1
98            3.0          1.1           5.1          2.5   -1
99            4.1          1.3           5.7          2.8    1
100           6.0          2.5          60.0         30.0   -1
101           5.1          1.9           5.8          2.7    1
102           5.9          2.1           7.1          3.0    1
103           5.6          1.8           6.3          2.9    1
104           5.8          2.2           6.5          3.0    1
105           6.6          2.1           7.6          3.0   -1
106           4.5          1.7           4.9          2.5   -1
107           6.3          1.8           7.3          2.9    1
108           5.8          1.8           6.7          2.5    1
109           6.1          2.5           7.2          3.6    1
110           5.1          2.0           6.5          3.2    1
111           5.3          1.9           6.4          2.7    1
112           5.5          2.1           6.8          3.0    1
113           5.0          2.0           5.7          2.5    1
114           5.1          2.4           5.8          2.8    1
115           5.3          2.3           6.4          3.2    1
116           5.5          1.8           6.5          3.0    1
117           6.7          2.2           7.7          3.8   -1
118           6.9          2.3           7.7          2.6   -1
119           5.0          1.5           6.0          2.2    1
120           5.7          2.3           6.9          3.2    1
121           4.9          2.0           5.6          2.8    1
122           6.7          2.0           7.7          2.8   -1
123           4.9          1.8           6.3          2.7    1
124           5.7          2.1           6.7          3.3    1
125           6.0          1.8           7.2          3.2    1
126           4.8          1.8           6.2          2.8    1
127           4.9          1.8           6.1          3.0    1
128           5.6          2.1           6.4          2.8    1
129           5.8          1.6           7.2          3.0    1
130           6.1          1.9           7.4          2.8    1
131           6.4          2.0           7.9          3.8   -1
132           5.6          2.2           6.4          2.8    1
133           5.1          1.5           6.3          2.8    1
134           5.6          1.4           6.1          2.6    1
135           6.1          2.3           7.7          3.0    1
136           5.6          2.4           6.3          3.4    1
137           5.5          1.8           6.4          3.1    1
138           4.8          1.8           6.0          3.0    1
139           5.4          2.1           6.9          3.1    1
140           5.6          2.4           6.7          3.1    1
141           5.1          2.3           6.9          3.1    1
142           5.1          1.9           5.8          2.7    1
143           5.9          2.3           6.8          3.2    1
144           5.7          2.5           6.7          3.3    1
145           5.2          2.3           6.7          3.0    1
146           5.0          1.9           6.3          2.5    1
147           5.2          2.0           6.5          3.0    1
148           5.4          2.3           6.2          3.4    1
149           5.1          1.8           5.9          3.0    1
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="Data-Understanding.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><strong>Data Understanding dalam Data Mining</strong></p>
      </div>
    </a>
    <a class="right-next"
       href="Konsep-dasar-LOF.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><strong>Konsep dasar LOF</strong></p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#macam-macam-tipe-data-dalam-data-mining"><strong>Macam-Macam Tipe Data dalam Data Mining</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#atribut-kualitatif"><strong>1. Atribut Kualitatif</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#atribut-kuantitatif"><strong>2. Atribut Kuantitatif</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pengertian-algoritma-k-nearest-neighbor-knn"><strong>Pengertian Algoritma K-Nearest Neighbor</strong> (KNN)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#apa-itu-nearest-neighbor"><strong>1. Apa itu Nearest Neighbor?</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#alur-kerja-nearest-neighbor"><strong>2. Alur Kerja Nearest Neighbor</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#tentukan-jumlah-tetangga-terdekat-k-yang-akan-dipilih"><strong>2.1 Tentukan jumlah tetangga terdekat (K) yang akan dipilih</strong></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#hitung-jarak-antara-data-uji-dengan-semua-data-latih"><strong>2.2 Hitung jarak antara data uji dengan semua data latih</strong></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#urutkan-data-latih-berdasarkan-jarak-dari-yang-terdekat-ke-yang-terjauh-dengan-data-uji"><strong>2.3 Urutkan data latih berdasarkan jarak dari yang terdekat ke yang terjauh dengan data uji</strong></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pilih-k-data-dengan-jarak-terdekat-dari-data-uji"><strong>2.4 Pilih K data dengan jarak terdekat dari data uji</strong></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#hitung-frekuensi-masing-masing-kategori-pada-k-data-yang-telah-dipilih"><strong>2.5 Hitung frekuensi masing-masing kategori pada K data yang telah dipilih</strong></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#contoh-kasus"><strong>3. Contoh Kasus</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#euclidean-distance"><strong>Euclidean Distance</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#manhattan-distance"><strong>Manhattan Distance</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#minkowski-distance"><strong>Minkowski Distance</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#perhitungan-menggunakan-pyhton"><strong>Perhitungan menggunakan pyhton</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#import-library"><strong>Import Library</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#memuat-file-env"><strong>Memuat File <code class="docutils literal notranslate"><span class="pre">.env</span></code></strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#konfigurasi-koneksi-database"><strong>Konfigurasi Koneksi Database</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menyusun-string-koneksi-postgresql"><strong>Menyusun String Koneksi PostgreSQL</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menyusun-string-koneksi-mysql"><strong>Menyusun String Koneksi MySQL:</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#membuat-engine-database"><strong>Membuat Engine Database</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#blok-try-finally"><strong>Blok Try-Finally</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#definisikan-query-untuk-mysql"><strong>Definisikan Query untuk MySQL</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#definisikan-query-untuk-postgre"><strong>Definisikan Query untuk postgre</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menampilkan-data"><strong>Menampilkan Data</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mengambil-data-dari-mysql"><strong>Mengambil Data dari MySQL</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mengambil-data-dari-postgresql"><strong>Mengambil Data dari PostgreSQL</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menggambungkan-data"><strong>Menggambungkan data</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menampilkan-hasil-gabungan"><strong>Menampilkan Hasil Gabungan</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mendeteksi-outlier-menggunakan-python"><strong>Mendeteksi outlier menggunakan python</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#load-dataset"><strong>Load dataset</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#memilih-kolom-yang-digunakan-untuk-deteksi-outlier"><strong>Memilih kolom yang digunakan untuk deteksi outlier</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ambil-data-sebagai-array-x"><strong>Ambil data sebagai array X</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#deteksi-outlier"><strong>Deteksi Outlier</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#hitung-jarak-ke-tetangga-terdekat"><strong>Hitung jarak ke tetangga terdekat</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#threshold-outlier-dihitung-dengan-formula"><strong>Threshold outlier dihitung dengan formula:</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menandai-outlier-dalam-dataset"><strong>menandai Outlier dalam Dataset</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menampilkan-hasil-dengan-id-jika-ada"><strong>Menampilkan hasil dengan ID jika ada</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#visualisasi-distribusi-fitur-dengan-outlier"><strong>Visualisasi Distribusi Fitur dengan Outlier</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menampilkan-outlier-dengan-menggunakan-library-sklearn-localoutfactor"><strong>menampilkan outlier dengan menggunakan library sklearn LocalOutFactor</strong></a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Data Engineering wanna be
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      Â© Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>